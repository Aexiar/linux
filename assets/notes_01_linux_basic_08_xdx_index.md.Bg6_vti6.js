import{_ as s,c as i,o as a,U as e}from"./chunks/framework.Ub3c7c8p.js";const l="/linux/assets/1.ZfT2lw2k.gif",n="/linux/assets/2.oL_93Qwg.gif",t="/linux/assets/3.lPsm2Q1_.gif",p="/linux/assets/4.p_pHgAWx.gif",h="/linux/assets/5.rIHNTFtY.gif",d="/linux/assets/6._d8b-NWO.gif",r="/linux/assets/7.ocIUKYNI.gif",o="/linux/assets/8.TrmxJkkU.gif",c="/linux/assets/9.4RJsQJI_.gif",u="/linux/assets/10.5HHUweBb.gif",k="/linux/assets/11.rTj71dwq.gif",g="/linux/assets/12.FWDKvO3T.gif",b="/linux/assets/13.3bNIJ4iH.gif",m="/linux/assets/14.7R3q9Rss.gif",v="/linux/assets/15.zpntN88q.gif",F="/linux/assets/16.z0MeMHoI.gif",y="/linux/assets/17.kE5BTt5k.gif",C="/linux/assets/18.4UKPq0TQ.gif",_="/linux/assets/19.elN7oQum.gif",E="/linux/assets/20.JpPgwtCX.gif",B="/linux/assets/21.faxE1vNb.gif",x="/linux/assets/22.MG3bH8zt.gif",q="/linux/assets/23.kA5m8kuc.gif",f="/linux/assets/24.YaQ3OOOz.gif",w="/linux/assets/25.IB5IeccD.gif",z="/linux/assets/26.76K-elUF.gif",A="/linux/assets/27.ohOeK1Ew.gif",L="/linux/assets/28.PP3F4dmx.gif",D="/linux/assets/29.TZyGYeom.gif",P="/linux/assets/30.sPhsUnLU.png",I="/linux/assets/31._0fFSfZ7.png",U="/linux/assets/32._bxW8zZM.png",R="/linux/assets/33.SDvqkB-l.png",S="/linux/assets/34.44uHS1oV.png",T="/linux/assets/35.B7NBsmxs.png",Z="/linux/assets/36.e5wkq9JL.png",H="/linux/assets/37.9IEM6iGJ.png",O="/linux/assets/38.TwfvAyWg.png",G="/linux/assets/39.baNxQUXB.png",M="/linux/assets/40.M0yKtwQt.gif",N="/linux/assets/41.2K9f1YYO.gif",$="/linux/assets/42.uN4TkHTt.gif",Y="/linux/assets/43.kouCYfyC.gif",J="/linux/assets/44.rFeJfzTe.gif",K="/linux/assets/45.m6y_BopL.gif",W="/linux/assets/46.kLjBa7-R.gif",Q="/linux/assets/47.xPeHti81.gif",V="/linux/assets/48.Fe_Z7sr3.gif",j="/linux/assets/49.4FS6c1Ch.gif",X="/linux/assets/50.FsLeYC-5.gif",ss="/linux/assets/51.XLkmdjO5.gif",is="/linux/assets/52.fmxGYR86.gif",as="/linux/assets/53.TE_L3rkg.gif",es="/linux/assets/54.OFXXFWw8.png",ls="/linux/assets/55.lJKAkiT2.gif",ns="/linux/assets/56.lZoPPPGz.gif",ts="/linux/assets/57.EgV3MhBK.gif",ps="/linux/assets/58.YvaAttP0.gif",hs="/linux/assets/59.sgmS7LiJ.gif",ds="/linux/assets/60.eRFLL2Zp.gif",rs="/linux/assets/61.V72jvZCH.png",os="/linux/assets/62.6pNzZh8c.png",cs="/linux/assets/63.1MDmW8c2.gif",us="/linux/assets/64.yagGDVE3.gif",ks="/linux/assets/65.B7oss2k6.gif",gs="/linux/assets/66.YTnOrkDG.png",bs="/linux/assets/67.uGYikVOj.png",ws=JSON.parse('{"title":"第一章：安装 oh-my-zsh（可选）","description":"","frontmatter":{},"headers":[],"relativePath":"notes/01_linux_basic/08_xdx/index.md","filePath":"notes/01_linux_basic/08_xdx/index.md","lastUpdated":1707924861000}'),ms={name:"notes/01_linux_basic/08_xdx/index.md"},vs=e('<h1 id="第一章-安装-oh-my-zsh-可选" tabindex="-1">第一章：安装 oh-my-zsh（可选） <a class="header-anchor" href="#第一章-安装-oh-my-zsh-可选" aria-label="Permalink to &quot;第一章：安装 oh-my-zsh（可选）&quot;">​</a></h1><h2 id="_1-1-概述" tabindex="-1">1.1 概述 <a class="header-anchor" href="#_1-1-概述" aria-label="Permalink to &quot;1.1 概述&quot;">​</a></h2><ul><li>Zsh（Z Shell）是一个功能强大的命令行解释器，它是对 Bash 的一个扩展，提供了许多增强的功能，如：更智能的命令行补全、强大的脚本功能、主题和插件支持等。Zsh 的设计目标是提供一种更友好、更高效的命令行体验，同时保持与 Bash 的兼容性。</li><li>Oh My Zsh 是一个开源的、社区驱动的框架，用于管理 Zsh 配置。它提供了一个易于使用的界面来安装和管理 Zsh 的配置、插件和主题。Oh My Zsh 使得定制和扩展 Zsh 的功能变得更加简单，它包含了大量的预定义主题和插件，可以帮助用户快速搭建一个个性化的命令行环境。</li></ul><h2 id="_1-2-安装" tabindex="-1">1.2 安装 <a class="header-anchor" href="#_1-2-安装" aria-label="Permalink to &quot;1.2 安装&quot;">​</a></h2><h3 id="_1-2-1-安装和配置-zsh" tabindex="-1">1.2.1 安装和配置 zsh <a class="header-anchor" href="#_1-2-1-安装和配置-zsh" aria-label="Permalink to &quot;1.2.1 安装和配置 zsh&quot;">​</a></h3><ul><li>确认系统中是否安装有 zsh ：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">zsh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --version</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+l+'" alt=""></p><ul><li>如果发现没有安装，则需要手动安装：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> zsh</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+n+'" alt=""></p><ul><li>查看默认的 shell 解释器：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $SHELL</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+t+'" alt=""></p><ul><li>使用 <code>chsh</code> 命令更改默认的 shell 解释器为 zsh ：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chsh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> $(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">which</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> zsh)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+p+`" alt=""></p><ul><li>退出并重新登录，查看是否设置成功：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ctrl + D</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exit</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $SHELL</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="`+h+'" alt=""></p><h3 id="_1-2-2-安装-oh-my-zsh" tabindex="-1">1.2.2 安装 oh-my-zsh <a class="header-anchor" href="#_1-2-2-安装-oh-my-zsh" aria-label="Permalink to &quot;1.2.2 安装 oh-my-zsh&quot;">​</a></h3><h4 id="_1-2-2-1-自动化安装" tabindex="-1">1.2.2.1 自动化安装 <a class="header-anchor" href="#_1-2-2-1-自动化安装" aria-label="Permalink to &quot;1.2.2.1 自动化安装&quot;">​</a></h4><ul><li>可以使用官方提供的自动化脚本进行安装：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -fsSL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>注意⚠️：</p><ul><li>① 可能会出现安装失败；此时，就需要魔法来解决！！！</li><li>② 将 <code>https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh</code> 替换为 <code>https://install.ohmyz.sh</code>，因为某些国家会污染 <code>raw.githubusercontent.com</code>。</li></ul></blockquote><p><img src="'+d+'" alt=""></p><h4 id="_1-2-2-2-手动安装" tabindex="-1">1.2.2.2 手动安装 <a class="header-anchor" href="#_1-2-2-2-手动安装" aria-label="Permalink to &quot;1.2.2.2 手动安装&quot;">​</a></h4><ul><li>安装 git ：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+r+'" alt=""></p><ul><li>下载源码：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/ohmyzsh/ohmyzsh.git</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --depth=1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.oh-my-zsh</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+o+'" alt=""></p><ul><li>备份现有的配置文件（可选）：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.zshrc</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.zshrc.back</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+c+'" alt=""></p><ul><li>创建 zsh 的配置文件：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.oh-my-zsh/templates/zshrc.zsh-template</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.zshrc</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+u+'" alt=""></p><ul><li>加载配置文件：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.zshrc</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+k+'" alt=""></p><h3 id="_1-2-3-配置主题" tabindex="-1">1.2.3 配置主题 <a class="header-anchor" href="#_1-2-3-配置主题" aria-label="Permalink to &quot;1.2.3 配置主题&quot;">​</a></h3><ul><li>Oh My Zsh 内置了很多主题，可以通过如下的命令查看：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ls</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.oh-my-zsh/themes</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+g+`" alt=""></p><ul><li>通过 vim 编辑 <code>~/.zshrc</code> 配置文件，修改内置主题：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.zshrc</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span># 其余略</span></span>
<span class="line"><span>ZSH_THEME=&quot;agnoster&quot; # 修改，原来是 robbyrussell</span></span>
<span class="line"><span># 其余略</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="`+b+'" alt=""></p><ul><li>加载 <code>~/.zshrc</code> 配置文件：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.zshrc</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+m+'" alt=""></p><h3 id="_1-2-4-安装插件" tabindex="-1">1.2.4 安装插件 <a class="header-anchor" href="#_1-2-4-安装插件" aria-label="Permalink to &quot;1.2.4 安装插件&quot;">​</a></h3><h4 id="_1-2-4-1-概述" tabindex="-1">1.2.4.1 概述 <a class="header-anchor" href="#_1-2-4-1-概述" aria-label="Permalink to &quot;1.2.4.1 概述&quot;">​</a></h4><ul><li>oh-my-zsh 内置了很多插件，可以在 <code>~/.oh-my-zsh/plugins</code>中查看，如：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ls</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.oh-my-zsh/plugins</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+v+'" alt=""></p><ul><li>但是，有的时候，还需要一些第三方插件，可以在<a href="https://github.com/unixorn/awesome-zsh-plugins" target="_blank" rel="noreferrer">这里</a>查看。</li></ul><h4 id="_1-2-4-2-安装-zsh-completions-额外补全" tabindex="-1">1.2.4.2 安装 zsh-completions（额外补全） <a class="header-anchor" href="#_1-2-4-2-安装-zsh-completions-额外补全" aria-label="Permalink to &quot;1.2.4.2 安装 zsh-completions（额外补全）&quot;">​</a></h4><ul><li>下载并安装：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/zsh-users/zsh-completions</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --depth=1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ${ZSH_CUSTOM</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">${ZSH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">~</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.oh-my-zsh}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">custom}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/plugins/zsh-completions</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+F+'" alt=""></p><ul><li>添加到指定目录：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fpath</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">${ZSH_CUSTOM</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">${ZSH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">~</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.oh-my-zsh}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">custom}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/plugins/zsh-completions/src</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+y+'" alt=""></p><ul><li>加载配置：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$ZSH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/oh-my-zsh.sh&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+C+'" alt=""></p><h4 id="_1-2-4-3-安装-zsh-autosuggestions-命令提示" tabindex="-1">1.2.4.3 安装 zsh-autosuggestions（命令提示） <a class="header-anchor" href="#_1-2-4-3-安装-zsh-autosuggestions-命令提示" aria-label="Permalink to &quot;1.2.4.3 安装 zsh-autosuggestions（命令提示）&quot;">​</a></h4><ul><li>下载并安装：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/zsh-users/zsh-autosuggestions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ${ZSH_CUSTOM</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">~</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.oh-my-zsh</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">custom}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/plugins/zsh-autosuggestions</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+_+`" alt=""></p><ul><li>通过 vim 编辑 <code>~/.zshrc</code> 配置文件，添加该插件：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.zshrc</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span># 其余略</span></span>
<span class="line"><span>plugins=(</span></span>
<span class="line"><span>    git</span></span>
<span class="line"><span>    # other plugins...</span></span>
<span class="line"><span>    zsh-autosuggestions</span></span>
<span class="line"><span>)</span></span>
<span class="line"><span># 其余略</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><img src="`+E+'" alt=""></p><ul><li>加载 <code>~/.zshrc</code> 配置文件：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.zshrc</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+B+'" alt=""></p><blockquote><p>注意⚠️：通过 <code>→</code> 来补全。</p></blockquote><h4 id="_1-2-4-4-安装-zsh-syntax-highlighting-语法高亮" tabindex="-1">1.2.4.4 安装 zsh-syntax-highlighting（语法高亮） <a class="header-anchor" href="#_1-2-4-4-安装-zsh-syntax-highlighting-语法高亮" aria-label="Permalink to &quot;1.2.4.4 安装 zsh-syntax-highlighting（语法高亮）&quot;">​</a></h4><ul><li>下载并安装：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/zsh-users/zsh-syntax-highlighting.git</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ${ZSH_CUSTOM</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">~</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.oh-my-zsh</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">custom}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/plugins/zsh-syntax-highlighting</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+x+`" alt=""></p><ul><li>通过 vim 编辑 <code>~/.zshrc</code> 配置文件，添加该插件：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.zshrc</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span># 其余略</span></span>
<span class="line"><span>plugins=(</span></span>
<span class="line"><span>    git</span></span>
<span class="line"><span>    # other plugins...</span></span>
<span class="line"><span>    zsh-autosuggestions</span></span>
<span class="line"><span>    zsh-syntax-highlighting</span></span>
<span class="line"><span>)</span></span>
<span class="line"><span># 其余略</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><img src="`+q+'" alt=""></p><ul><li>加载 <code>~/.zshrc</code> 配置文件：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.zshrc</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+f+'" alt=""></p><h3 id="_1-2-5-解决问题" tabindex="-1">1.2.5 解决问题 <a class="header-anchor" href="#_1-2-5-解决问题" aria-label="Permalink to &quot;1.2.5 解决问题&quot;">​</a></h3><h4 id="_1-2-5-1-问题引出" tabindex="-1">1.2.5.1 问题引出 <a class="header-anchor" href="#_1-2-5-1-问题引出" aria-label="Permalink to &quot;1.2.5.1 问题引出&quot;">​</a></h4><ul><li>当我们在使用 <code>tab</code> 进行命令补全的时候，可能会出现下面的情况（出现重复字符）：</li></ul><p><img src="'+w+`" alt=""></p><h4 id="_1-2-5-2-问题解决" tabindex="-1">1.2.5.2 问题解决 <a class="header-anchor" href="#_1-2-5-2-问题解决" aria-label="Permalink to &quot;1.2.5.2 问题解决&quot;">​</a></h4><ul><li>① 安装语言包：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装字体</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> powerline-fonts</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装语言包</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> glibc-langpack-en</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="`+z+'" alt=""></p><ul><li>② 查看系统 locale ：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">localectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list-locales</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+A+`" alt=""></p><ul><li>③ 设置编码：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 修改编码</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;export LC_CTYPE=en_US.UTF-8&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.zshrc</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 重新加载配置文件</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.zshrc</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="`+L+`" alt=""></p><ul><li>④ 修改主题配置：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 修改主题</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sed</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;s/⚡/%{%G⚡%}/&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.oh-my-zsh/themes/agnoster.zsh-theme</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 重新加载配置文件</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.zshrc</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="`+D+'" alt=""></p><h1 id="第二章-rbac-模型" tabindex="-1">第二章：RBAC 模型 <a class="header-anchor" href="#第二章-rbac-模型" aria-label="Permalink to &quot;第二章：RBAC 模型&quot;">​</a></h1><h2 id="_2-1-概述" tabindex="-1">2.1 概述 <a class="header-anchor" href="#_2-1-概述" aria-label="Permalink to &quot;2.1 概述&quot;">​</a></h2><ul><li>RBAC（Role-Based Access Control，基于角色的访问控制）是一种访问控制模型，它通过定义<code>角色</code>来<code>管理用户</code>对<code>系统资源</code>的<code>访问权限</code>。</li><li>在 RBAC 模型中，用户不是直接被授予权限的，而是被分配到一个或多个角色中，每个角色都包含了一组权限。</li><li>这样，<code>用户</code>可以通过<code>角色</code>来<code>间接</code>的<code>获取</code>对资源的<code>访问控制</code>（权限）。</li><li>这种模型的核心思想是将<code>权限管理</code>和<code>用户身份</code>分离，使得<code>权限分配</code>更加<code>灵活</code>和<code>易于管理</code>。</li></ul><blockquote><p>注意⚠️：</p><ul><li><p>① RBAC模型的应用场景非常广泛，包括但不限于：</p><ul><li>企业资源规划（ERP）系统：在大型企业中，员工可能需要访问不同的业务模块，RBAC 可以确保他们只能访问其职责范围内的数据。</li><li>医疗信息系统：医生、护士、行政人员等不同角色需要访问不同级别的患者信息。</li><li>金融服务：银行和金融机构使用RBAC来控制员工对敏感金融数据的访问。</li><li>……</li></ul></li><li><p>② Kubernetes（云原生的事实标准）也是基于 RBAC 模型开发的。</p></li></ul></blockquote><h2 id="_2-2-rbac" tabindex="-1">2.2 RBAC <a class="header-anchor" href="#_2-2-rbac" aria-label="Permalink to &quot;2.2 RBAC&quot;">​</a></h2><ul><li>最简单的 RBAC 模型是 RBAC0，包含了<code>用户</code>、<code>角色</code>和<code>权限</code>之间的关系（多对多的关系），即：</li></ul><p><img src="'+P+'" alt="image-20240214082321451"></p><blockquote><p>注意⚠️：</p><ul><li>① 用户、角色、权限都是<code>多对多</code>的关系，是最通用的权限管理模型，节省了很大的权限维护成本，对于 Linux 而言是足够的；所以，目前为止，Linux 的权限模型就是 RBAC0 模型。</li><li>② 其实，在 RBAC 模型出现之前，还有 ACL 模型，即：用户和权限的多对多关系；但是随着用户数量的增长，这种模型的弊端就凸显出来了，每一个用户都需要去分配权限，非常的浪费管理员的时间和精力，并且用户和权限杂乱的对应关系会给后期带来巨大的维护成本。</li><li>③ RBAC96 模型族确实是由 George Mason 大学的 Ravi Sandhu 教授在 1996 年提出的，这个模型族对基于角色的访问控制（RBAC）进行了系统的分类和扩展。RBAC96 模型族包括四个主要模型：RBAC0、RBAC1、RBAC2 和 RBAC3，它们各自代表了 RBAC 的不同层次和复杂度。</li></ul></blockquote><h1 id="第三章-用户管理概述" tabindex="-1">第三章：用户管理概述 <a class="header-anchor" href="#第三章-用户管理概述" aria-label="Permalink to &quot;第三章：用户管理概述&quot;">​</a></h1><h2 id="_2-1-概述-1" tabindex="-1">2.1 概述 <a class="header-anchor" href="#_2-1-概述-1" aria-label="Permalink to &quot;2.1 概述&quot;">​</a></h2><ul><li>在各种操作系统中都有<code>用户</code>的概念，如：win 中的超级管理员（administrator）和普通用户；当然，Linux 中也有各种类型的用户。</li><li>很多时候，我们在进行系统管理的时候，会使用到 root 用户；但是，为了系统的安全，还是推荐使用普通用户。</li></ul><blockquote><p>注意⚠️：</p><ul><li>① Linux 中有各种各样的用户，每个用户都有自己的作用，如：root 用户（最高权限的用户）、普通用户、虚拟用户（一些服务的创建、启动、停止，需要此类用户）。</li><li>② Linux 是一个多用户、多任务的操作系统，这意味着它可以同时支持多个用户登录并执行任务。在 Linux 系统中，每个用户都有自己的用户账户，可以拥有不同的权限和资源访问级别。</li><li>③ Linux 中系统管理员可以为不同的用户分配不同的权限，以确保系统的安全性和资源的有效管理。这种多用户环境使得 Linux 成为服务器和工作站的理想选择，因为它能够高效地处理并发任务和用户需求。</li></ul></blockquote><h2 id="_2-2-uid-和-gid" tabindex="-1">2.2 UID 和 GID <a class="header-anchor" href="#_2-2-uid-和-gid" aria-label="Permalink to &quot;2.2 UID 和 GID&quot;">​</a></h2><ul><li>在生活中，如何精确标识一个人？答案是通过<code>身份证</code>，或者身份证上的号码（<code>身份证号</code>），即：</li></ul><p><img src="'+I+'" alt="image-20240214090542293"></p><ul><li>其实，对于中国来说，还有户籍制度，它是中国特有的一种户籍管理方式，记录了公民的个人信息，包括：姓名、性别、出生日期、民族、婚姻状况、家庭关系以及居住地址等，对应的载体就是<code>户口本</code>，而且<code>户口本</code>上也有唯一的<code>号码</code>的（<code>户号</code>），即：</li></ul><p><img src="'+U+'" alt="image-20240214091327353"></p><ul><li>对于 Linux 而言，Linux 通过 <code>UID</code> （User ID）来<code>标识</code>一个<code>用户</code>，通过 <code>GID</code>（Group ID）来标识一个<code>用户组</code>，即：</li></ul><table><thead><tr><th>类别</th><th>说明</th><th>备注</th></tr></thead><tbody><tr><td><code>UID</code> （User ID</td><td>用户的 ID 号</td><td>类似于身份证号码，即：身份证号</td></tr><tr><td><code>GID</code>（Group ID）</td><td>用户组的 ID 号</td><td>类似于户口本上的号码，即：户号</td></tr></tbody></table><ul><li>通过如下的命令，查询当前登录用户的 UID 和 GID ，即：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">id</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+R+'" alt="image-20240214091841700"></p><h2 id="_2-3-用户分类" tabindex="-1">2.3 用户分类 <a class="header-anchor" href="#_2-3-用户分类" aria-label="Permalink to &quot;2.3 用户分类&quot;">​</a></h2><ul><li>可以根据 <code>uid</code> 来对用户进行分类：</li></ul><table><thead><tr><th>用户分类</th><th>分类方法（uid）</th></tr></thead><tbody><tr><td>root</td><td>uid 是 0 。</td></tr><tr><td>普通用户</td><td>uid &gt;= 1000，手动创建，无法对系统进行更改，只能对家目录进行操作。</td></tr><tr><td>虚拟用户（系统用户）</td><td>uid &lt; 1000 ，用于服务、进程运行使用，如：mysqld 服务、sshd 服务。</td></tr></tbody></table><blockquote><p>注意⚠️：</p><ul><li>① 在 Linux 中，对用户分类的方法<code>并不仅仅</code>通过 uid 这种分类方法，也可以通过其它<code>分类方法</code>来进行分类。</li><li>② 用户的 id ，即 uid 在 [0,65535] 之间，不要超过此范围，可以通过查看 <code>/etc/login.defs</code> 文件来了解。</li></ul></blockquote><h2 id="_2-4-用户相关的文件-⭐" tabindex="-1">2.4 用户相关的文件（⭐） <a class="header-anchor" href="#_2-4-用户相关的文件-⭐" aria-label="Permalink to &quot;2.4 用户相关的文件（⭐）&quot;">​</a></h2><ul><li>Linux 中每创建一个用户，通常都会影响下面的文件：</li></ul><table><thead><tr><th>用户相关文件</th><th>说明</th></tr></thead><tbody><tr><td><code>/etc/passwd</code>（⭐）</td><td>存放用户信息。</td></tr><tr><td>/etc/shadow</td><td>存放密码信息。</td></tr><tr><td>/etc/group</td><td>存放用户组信息。</td></tr><tr><td>/etc/gshaow</td><td>存放用户组密码信息；但是，通常不会给用户组设置密码。</td></tr></tbody></table><blockquote><p>注意⚠️：</p><ul><li>① <code>/etc/passwd</code> 文件的名称来源于 Unix 和类 Unix 系统的早期历史，最初是存储用户信息和密码信息的；但是，随着时间的推移，为了限制对密码信息的访问，将密码信息移动到了 <code>/etc/shadow</code>文件，并且只能管理员（root）才能访问；当然，<code>/etc/passwd</code> 文件依然保留下来，只存储用户的基本信息，如：用户名、UID 等。</li><li>② shadow 在英文中是<code>阴影</code>，<code>影子</code>的意思；在 Linux 中，用来表示只能由 root 才能访问。</li></ul></blockquote><ul><li>查询 <code>/etc/passwd</code> 文件（⭐）：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/passwd</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+S+'" alt="image-20240214094636081"></p><ul><li>详细解释 <code>/etc/passwd</code> 中每一列的含义（⭐）：</li></ul><p><img src="'+T+'" alt="image-20240214100834258"></p><ul><li>查询 <code>/etc/shadow</code> 文件：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/shadow</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+Z+'" alt="image-20240214101217283"></p><ul><li>详细解释 <code>/etc/shadow</code> 中每一列的含义：</li></ul><p><img src="'+H+'" alt="image-20240214102604614"></p><ul><li>查询 <code>/etc/group</code> 文件：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/group</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+O+'" alt="image-20240214102721047"></p><ul><li>详细解释 <code>/etc/group</code> 中每一列的含义：</li></ul><p><img src="'+G+'" alt="image-20240214111510332"></p><h1 id="第四章-用户管理命令-⭐" tabindex="-1">第四章：用户管理命令（⭐） <a class="header-anchor" href="#第四章-用户管理命令-⭐" aria-label="Permalink to &quot;第四章：用户管理命令（⭐）&quot;">​</a></h1><h2 id="_4-1-概述" tabindex="-1">4.1 概述 <a class="header-anchor" href="#_4-1-概述" aria-label="Permalink to &quot;4.1 概述&quot;">​</a></h2><ul><li>用户管理命令，无非就是对用户进行<code>增</code>、<code>删</code>、<code>改</code>、<code>查</code>操作。</li></ul><h2 id="_4-2-增加" tabindex="-1">4.2 增加 <a class="header-anchor" href="#_4-2-增加" aria-label="Permalink to &quot;4.2 增加&quot;">​</a></h2><ul><li>命令：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">useradd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [-u][-s][-M][-g] 用户名</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>功能：创建用户。</li><li>选项： <ul><li><code>-u</code>，<code>--uid UID</code>：指定用户的 ID，即 UID 。</li><li><code>-s</code>，<code>--shell SHEL</code>：指定命令解释器，默认是 <code>/bin/bash</code>。</li><li><code>-M</code>，<code>--no-create-home</code>：不创建用户的家目录。</li><li><code>-g</code>，<code>--gid GROUP</code>：指定用户组名称或用户组 ID。</li></ul></li></ul><blockquote><p>注意⚠️：默认情况下，会创建<code>同名</code>的<code>家目录</code>和<code>用户组</code>。</p></blockquote><ul><li>示例：创建普通用户</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">useradd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> x</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+M+'" alt=""></p><ul><li>示例：创建虚拟账户 mysql ，并指定 UID 为 1314</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">useradd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1314</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /sbin/nologin</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -M</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+N+'" alt=""></p><h2 id="_4-3-删除" tabindex="-1">4.3 删除 <a class="header-anchor" href="#_4-3-删除" aria-label="Permalink to &quot;4.3 删除&quot;">​</a></h2><ul><li>命令：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">userdel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [-r] 用户名</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>功能：删除用户。</li><li>选项： <ul><li><code>-r</code>， <code>--remove</code>：删除用户和家目录。</li></ul></li></ul><blockquote><p>注意⚠️：</p><ul><li>① 默认情况下，不会删除用户的家目录，除非添加 <code>-r</code> 选项。</li><li>② 在实际工作中，userdel 命令很危险，建议在 <code>/etc/passwd</code> 文件对应的<code>用户前</code>添加 <code>#</code> 注释，以便达到删除用户的效果。</li></ul></blockquote><ul><li>示例：删除用户</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">userdel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> x</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+$+'" alt=""></p><ul><li>示例：删除用户和家目录</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">userdel</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> x</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+Y+'" alt=""></p><h2 id="_4-4-修改" tabindex="-1">4.4 修改 <a class="header-anchor" href="#_4-4-修改" aria-label="Permalink to &quot;4.4 修改&quot;">​</a></h2><h3 id="_4-4-1-修改用户信息" tabindex="-1">4.4.1 修改用户信息 <a class="header-anchor" href="#_4-4-1-修改用户信息" aria-label="Permalink to &quot;4.4.1 修改用户信息&quot;">​</a></h3><ul><li>命令：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">usermod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [-u][-s][-g][-l] 用户名</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><p>功能：修改用户信息。</p></li><li><p>对应英文：user modify 。</p></li><li><p>选项：</p><ul><li><code>-u</code>，<code>--uid UID</code>：指定用户的 ID，即 UID 。</li><li><code>-s</code>，<code>--shell SHEL</code>：指定命令解释器，默认是 <code>/bin/bash</code>。</li><li><code>-g</code>，<code>--gid GROUP</code>：指定用户组名称或用户组 ID。</li><li><code>-l</code>，<code>--login NEW_LOGIN</code>：修改用户名称，不会修改用户的家目录名称。</li></ul></li><li><p>示例：修改 mysql 的 SHELL 解释器为 /bin/bash</p></li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">usermod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /bin/bash</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+J+'" alt=""></p><ul><li>示例：修改用户名</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">usermod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xudaxian</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> x</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+K+'" alt=""></p><h3 id="_4-4-2-修改密码" tabindex="-1">4.4.2 修改密码 <a class="header-anchor" href="#_4-4-2-修改密码" aria-label="Permalink to &quot;4.4.2 修改密码&quot;">​</a></h3><ul><li>命令：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">passwd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [--stdin] [用户名]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>功能：修改用户的密码。</li><li>对应英文：password 。</li><li>选项： <ul><li><code>--stdin</code>：从标准流中读取信息，并修改密码（只有 root 用户才能进行此操作）。</li></ul></li></ul><blockquote><p>注意⚠️：</p><ul><li>① 如果不写用户名，就是修改当前的用户名。</li><li>② <code>--stdin</code> 可以实现批量修改密码，如：<code>echo &#39;123456&#39; | passwd --stdin x</code>。</li></ul></blockquote><ul><li>示例：修改当前用户的密码</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">passwd</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+W+'" alt=""></p><ul><li>示例：修改指定用户的密码</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;123456&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> passwd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --stdin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> x</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+Q+'" alt=""></p><h3 id="_4-4-3-切换用户" tabindex="-1">4.4.3 切换用户 <a class="header-anchor" href="#_4-4-3-切换用户" aria-label="Permalink to &quot;4.4.3 切换用户&quot;">​</a></h3><ul><li>命令：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">su</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [用户名]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>对应的英文：switch user。</li><li>选项： <ul><li><code>-</code>， <code>-l</code>， <code>--login</code>：切换用户的同时，切换用户的配置和环境变量。</li></ul></li></ul><blockquote><p>注意⚠️：</p><ul><li>① su 命令允许我们在不注销当前会话的情况下，以不同的用户身份之间，执行各种任务，同时保持系统的稳定和安全。</li><li>② root 切换到普通用户，<code>无需</code>登录（输入密码）；普通用户切换到 root ，<code>需要</code>登录（输入密码）。</li></ul></blockquote><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">su</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> x</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+V+'" alt=""></p><h2 id="_4-5-查询" tabindex="-1">4.5 查询 <a class="header-anchor" href="#_4-5-查询" aria-label="Permalink to &quot;4.5 查询&quot;">​</a></h2><h3 id="_4-5-1-查询用户的信息" tabindex="-1">4.5.1 查询用户的信息 <a class="header-anchor" href="#_4-5-1-查询用户的信息" aria-label="Permalink to &quot;4.5.1 查询用户的信息&quot;">​</a></h3><ul><li>命令：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [用户名]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><p>功能：</p><ul><li>查询用户的 UID、GID 和用户组信息，进而可以用来检查用户是否存在。</li><li>如果<code>用户名</code>没有指定，默认查询的是当前用户的信息。</li></ul></li><li><p>示例：查询当前用户的信息</p></li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">id</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+j+'" alt=""></p><ul><li>示例：查询指定用户的信息</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">id</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> x</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+X+'" alt=""></p><ul><li>示例：检查指定用户是否存在</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">id</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> x</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+ss+'" alt=""></p><h3 id="_4-5-2-查询用户当前的名字" tabindex="-1">4.5.2 查询用户当前的名字 <a class="header-anchor" href="#_4-5-2-查询用户当前的名字" aria-label="Permalink to &quot;4.5.2 查询用户当前的名字&quot;">​</a></h3><ul><li>命令：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">whoami</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><p>功能：查询用户当前的名字。</p></li><li><p>示例：</p></li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">whoami</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+is+'" alt=""></p><h3 id="_4-5-3-查询当前登录用户的详细信息" tabindex="-1">4.5.3 查询当前登录用户的详细信息 <a class="header-anchor" href="#_4-5-3-查询当前登录用户的详细信息" aria-label="Permalink to &quot;4.5.3 查询当前登录用户的详细信息&quot;">​</a></h3><h4 id="_4-5-3-1-概述" tabindex="-1">4.5.3.1 概述 <a class="header-anchor" href="#_4-5-3-1-概述" aria-label="Permalink to &quot;4.5.3.1 概述&quot;">​</a></h4><ul><li>命令：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">w</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [-f]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>功能：查询当前登录用户的详细信息，包括：用户名称、终端类型、登录时间、空闲时间、CPU使用情况以及用户正在执行的进程。</li><li>选项： <ul><li><code>-f</code>，<code>--from</code>：显示远程登录主机的 IP 地址。</li></ul></li></ul><blockquote><p>注意⚠️：w 命令其实是 uptime（计算机正常运行时间，即在线时间） 和 who 命令的组合。</p></blockquote><h4 id="_4-5-3-2-案例" tabindex="-1">4.5.3.2 案例 <a class="header-anchor" href="#_4-5-3-2-案例" aria-label="Permalink to &quot;4.5.3.2 案例&quot;">​</a></h4><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">w</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+as+'" alt=""></p><h4 id="_4-5-3-3-详细解释" tabindex="-1">4.5.3.3 详细解释 <a class="header-anchor" href="#_4-5-3-3-详细解释" aria-label="Permalink to &quot;4.5.3.3 详细解释&quot;">​</a></h4><ul><li>下面将给出对应的详细信息的解释，即：</li></ul><p><img src="'+es+'" alt="image-20240214201619368"></p><h3 id="_4-5-4-显示用户最近的登录信息" tabindex="-1">4.5.4 显示用户最近的登录信息 <a class="header-anchor" href="#_4-5-4-显示用户最近的登录信息" aria-label="Permalink to &quot;4.5.4 显示用户最近的登录信息&quot;">​</a></h3><ul><li>命令：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">last</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">last</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+ls+'" alt=""></p><h3 id="_4-5-5-显示用户最近一次的登录信息" tabindex="-1">4.5.5 显示用户最近一次的登录信息 <a class="header-anchor" href="#_4-5-5-显示用户最近一次的登录信息" aria-label="Permalink to &quot;4.5.5 显示用户最近一次的登录信息&quot;">​</a></h3><ul><li>命令：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lastlog</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lastlog</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+ns+'" alt=""></p><h2 id="_4-6-用户组命令-了解" tabindex="-1">4.6 用户组命令（了解） <a class="header-anchor" href="#_4-6-用户组命令-了解" aria-label="Permalink to &quot;4.6 用户组命令（了解）&quot;">​</a></h2><h3 id="_4-6-1-创建用户组" tabindex="-1">4.6.1 创建用户组 <a class="header-anchor" href="#_4-6-1-创建用户组" aria-label="Permalink to &quot;4.6.1 创建用户组&quot;">​</a></h3><ul><li>命令：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">groupadd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 用户组</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">groupadd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+ts+'" alt=""></p><h3 id="_4-6-2-创建用户的同时指定用户组" tabindex="-1">4.6.2 创建用户的同时指定用户组 <a class="header-anchor" href="#_4-6-2-创建用户的同时指定用户组" aria-label="Permalink to &quot;4.6.2 创建用户的同时指定用户组&quot;">​</a></h3><ul><li>命令：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">useradd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 用户组</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 用户名</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>注意⚠️：前提条件是用户组存在！！！</p></blockquote><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">useradd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> x</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+ps+'" alt=""></p><h3 id="_4-6-3-删除用户组" tabindex="-1">4.6.3 删除用户组 <a class="header-anchor" href="#_4-6-3-删除用户组" aria-label="Permalink to &quot;4.6.3 删除用户组&quot;">​</a></h3><ul><li>命令：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">groupdel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 用户组</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>注意⚠️：</p><ul><li>① 需要确保用户组中没有用户；否则，将会报错！！！</li><li>② 可以通过 <code>getent group 用户组</code>命令查询用户组的详细信息，包括：用户组密码、GID以及用户组成员列表。</li></ul></blockquote><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">groupdel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+hs+'" alt=""></p><h1 id="第五章-sudo-权限管理-⭐" tabindex="-1">第五章：sudo 权限管理（⭐） <a class="header-anchor" href="#第五章-sudo-权限管理-⭐" aria-label="Permalink to &quot;第五章：sudo 权限管理（⭐）&quot;">​</a></h1><h2 id="_5-1-概述" tabindex="-1">5.1 概述 <a class="header-anchor" href="#_5-1-概述" aria-label="Permalink to &quot;5.1 概述&quot;">​</a></h2><ul><li>在实际工作中，开发人员要查看系统日志，怎么办（root 权限太大，普通用户的权限又太小）？</li></ul><p><img src="'+ds+'" alt=""></p><ul><li>此时，就可以使用 sudo 进行提权，对应的流行如下：</li></ul><p><img src="'+rs+'" alt="image-20240214212206333"></p><blockquote><p>注意⚠️：未来会搭建<code>日志平台（ELK、EFK 等）</code>，那么就不需要这么麻烦了。</p></blockquote><h2 id="_5-2-sudo-授权和使用" tabindex="-1">5.2 sudo 授权和使用 <a class="header-anchor" href="#_5-2-sudo-授权和使用" aria-label="Permalink to &quot;5.2 sudo 授权和使用&quot;">​</a></h2><ul><li><p>sudo 授权和使用步骤如下：</p><ul><li>① 使用 <code>visudo</code> 命令进行授权（其实，背后修改的是 <code>/etc/sudoers</code> 文件）。</li><li>② 普通用户通过 <code>sudo cat xxx</code> 等进行日志文件的查看，并且可以通过 <code>sudo -l</code> 查看哪些命令需要使用 sudo 提权。</li></ul></li><li><p>通过 which 查询这些命令对应的绝对路径，即：</p></li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">which</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> head</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tail</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> less</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> more</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> grep</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+os+`" alt="image-20240214212650270"></p><ul><li>root 用户使用 <code>visudo</code> 命令进行授权（授权给开发人员），即：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">visudo</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>root    ALL=(ALL)       ALL # 100 行</span></span>
<span class="line"><span>x       ALL=(ALL)       /usr/bin/cat, /usr/bin/head, /usr/bin/tail, /usr/bin/less, /usr/bin/more, /usr/bin/grep</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>解释：</p><ul><li><code>root</code> 表示用户名，具有 root 权限的用户。</li><li><code>ALL=(ALL)</code> 中的 <code>ALL</code> 表示所有主机（即任何 IP 地址），而 <code>(ALL)</code> 表示所有用户组，即 root 用户所属的所有用户组。</li><li><code>ALL</code>：表示所有命令，它允许 root 用户在任何主机上以任何用户组的身份执行任何命令。</li></ul></blockquote><p><img src="`+cs+`" alt=""></p><ul><li>普通用户（开发人员）通过 sudo 进行命令的提权，即：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 第一次会有密码提示输入，原理是通过时间戳文件文件实现的，可以通过 sudo -k 清除时间戳文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/log/secure</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="`+us+`" alt=""></p><ul><li>有的时候，我们不希望通过 root 账号来管理 Linux ，而希望通过一个账号来管理 Linux ，那么就通过 visudo 命令授权（授权给运维人员），并且不希望输入密码，即：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">visudo</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>root    ALL=(ALL)       ALL # 100 行</span></span>
<span class="line"><span>x       ALL=(ALL)       /usr/bin/cat, /usr/bin/head, /usr/bin/tail, /usr/bin/less, /usr/bin/more, /usr/bin/grep</span></span>
<span class="line"><span>w       ALL=(ALL)       NOPASSWD: ALL # 授权给运维自己不需要密码运行各种命令</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="`+ks+'" alt=""></p><h2 id="_5-3-总结" tabindex="-1">5.3 总结 <a class="header-anchor" href="#_5-3-总结" aria-label="Permalink to &quot;5.3 总结&quot;">​</a></h2><ul><li>sodo 就是让普通用户可以拥有 root 的部分权限来操作 Linux。</li><li>流程就是：root 账号使用 <code>visudo</code> 进行授权，普通用户使用 <code>sudo xxx</code> 来进行提权。</li></ul><blockquote><p>注意⚠️：如果每个用户都需要这么配置，就会感觉非常麻烦，我们也可以使用<code>堡垒机</code>来进行解决这类问题。</p></blockquote><h1 id="第六章-堡垒机" tabindex="-1">第六章：堡垒机 <a class="header-anchor" href="#第六章-堡垒机" aria-label="Permalink to &quot;第六章：堡垒机&quot;">​</a></h1><ul><li>之前，我们对于 Linux 的操作，都是通过 xshell 来进行远程连接的，即：</li></ul><p><img src="'+gs+'" alt="image-20240214221011352"></p><ul><li>但是，这样是有安全隐患的，比如：直接将 <code>22</code> 端口暴露到外网上，可能会遭受攻击；所以，<code>跳板机</code>和<code>堡垒机</code>就应用而生了，即：</li></ul><p><img src="'+bs+'" alt="image-20240214225738351"></p><blockquote><p>注意⚠️：</p><ul><li>① 之所以使用<code>堡垒机</code>或<code>跳板机</code>，是因为人是趋利避害的性格，可能为了掩饰自己的错误行为，在使用 xshell 远程连接到 Linux 服务器上的时候（操作记录存放在 Linux 服务器上），会将自己的操作记录删除；而通过堡垒机或跳板机远程连接 Linux 服务器（操作记录存放在堡垒机或跳板机上），是不能将自己的操作记录删除的。</li><li>② 使用<code>跳板机</code>或<code>堡垒机</code>，在未来的场景中，只需要开发<code>跳板机</code>或<code>堡垒机</code>的端口就可以了，避免了直接暴露内部网络资源给外部网络带来的安全风险。</li><li>③ 通常而言，<code>跳板机</code>侧重于提供<code>安全</code>的<code>远程访问</code>和<code>操作平台</code>，而<code>堡垒机</code>更侧重于<code>安全防护</code>和<code>审计</code>。</li></ul></blockquote><ul><li>堡垒机的产品：</li></ul><table><thead><tr><th>堡垒机的产品</th><th>说明</th></tr></thead><tbody><tr><td>开源软件</td><td>Teleport（不维护了） 、JumpServer、<a href="https://github.com/veops/cmdb" target="_blank" rel="noreferrer">CMDB</a></td></tr><tr><td>物理硬件设备</td><td>需要自己购买。</td></tr><tr><td>云服务</td><td>需要自己购买，阿里云等云厂商都提供有对应的服务。</td></tr></tbody></table>',310),Fs=[vs];function ys(Cs,_s,Es,Bs,xs,qs){return a(),i("div",null,Fs)}const zs=s(ms,[["render",ys]]);export{ws as __pageData,zs as default};
