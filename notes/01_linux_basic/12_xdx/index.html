<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    
    <title>第一章：Linux 软件包概述（⭐） | Hi，终于等到你</title>
    <meta name="description" content="许大仙前端、Java、大数据、云原生">
    <meta name="generator" content="VitePress v1.0.1">
    <link rel="preload stylesheet" href="/linux/assets/style.D6Wf2uCX.css" as="style">
    
    <script type="module" src="/linux/assets/app.B-Dga6EK.js"></script>
    <link rel="preload" href="/linux/assets/inter-roman-latin.Bu8hRsVA.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/linux/assets/chunks/framework.Ngk3QDFU.js">
    <link rel="modulepreload" href="/linux/assets/chunks/theme.DZY9qP8f.js">
    <link rel="modulepreload" href="/linux/assets/notes_01_linux_basic_12_xdx_index.md.BajIaqs3.lean.js">
    <link rel="shortcut icon" href="/linux//favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no,shrink-to-fit=no">
    <meta name="keywords" content="许大仙,许大仙的博客">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar has-sidebar top" data-v-ae24b3ad data-v-ccf7ddec><div class="wrapper" data-v-ccf7ddec><div class="container" data-v-ccf7ddec><div class="title" data-v-ccf7ddec><div class="VPNavBarTitle has-sidebar" data-v-ccf7ddec data-v-ab179fa1><a class="title" href="/linux/" data-v-ab179fa1><!--[--><!--]--><!--[--><img class="VPImage logo" src="/linux/logo.svg" alt data-v-8426fc1a><!--]--><span data-v-ab179fa1>许大仙</span><!--[--><!--]--></a></div></div><div class="content" data-v-ccf7ddec><div class="content-body" data-v-ccf7ddec><!--[--><!--]--><div class="VPNavBarSearch search" data-v-ccf7ddec><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-ccf7ddec data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://aexiar.github.io/" target="_blank" rel="noreferrer" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>首页</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://aexiar.github.io/coa4/notes/" target="_blank" rel="noreferrer" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>计组4件套</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://aexiar.github.io/web-design/notes/" target="_blank" rel="noreferrer" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>前端</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://aexiar.github.io/java/notes/" target="_blank" rel="noreferrer" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>Java</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://aexiar.github.io/big-data/notes/" target="_blank" rel="noreferrer" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>大数据</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/linux/notes/" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>云原生</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://aexiar.github.io/open-software/notes/" target="_blank" rel="noreferrer" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>开源软件</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-ccf7ddec data-v-e6aabb21><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-e6aabb21 data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-ccf7ddec data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Aurorxa" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-ccf7ddec data-v-d0bd9dde data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-b6c34ac9><span class="vpi-more-horizontal icon" data-v-b6c34ac9></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-d0bd9dde><div class="item appearance" data-v-d0bd9dde><p class="label" data-v-d0bd9dde>Appearance</p><div class="appearance-action" data-v-d0bd9dde><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-d0bd9dde data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div></div></div><div class="group" data-v-d0bd9dde><div class="item social-links" data-v-d0bd9dde><div class="VPSocialLinks social-links-list" data-v-d0bd9dde data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Aurorxa" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-ccf7ddec data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-ccf7ddec><div class="divider-line" data-v-ccf7ddec></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-d2ecc192><button data-v-d2ecc192>返回顶部</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-575e6a36><div class="curtain" data-v-575e6a36></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-575e6a36><span class="visually-hidden" id="sidebar-aria-label" data-v-575e6a36> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0 collapsible has-active" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h2 class="text" data-v-b8d55f3b>Linux基础</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b8d55f3b><span class="vpi-chevron-right caret-icon" data-v-b8d55f3b></span></div></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/00_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>计算机硬件与组成原理基础</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/01_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 初识和安装</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/02_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 基础和入门</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/03_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 核心目录和必会命令</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/04_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 目录进阶（一）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/05_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 目录进阶（二）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/06_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 文件管理体系</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/07_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 标准输入输出和管道</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/08_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 四剑客（一）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/09_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 用户管理体系</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/10_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 权限管理体系</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/11_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 之快速安装 Ubuntu</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/12_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 软件包管理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/13_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 进程管理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/14_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 服务管理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/15_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 磁盘管理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/16_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 正则表达式</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/17_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 四剑客（二）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/18_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 定时任务</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/19_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>计算机网络基础</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/20_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 网络管理</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-575e6a36><div class="VPSidebarItem level-0 collapsible collapsed" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><p class="text" data-v-b8d55f3b>Linux集群</p><!----></div><!----></div></div><div class="group" data-v-575e6a36><div class="VPSidebarItem level-0 collapsible collapsed" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><p class="text" data-v-b8d55f3b>Linux自动化</p><!----></div><!----></div></div><div class="group" data-v-575e6a36><div class="VPSidebarItem level-0 collapsible collapsed" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><p class="text" data-v-b8d55f3b>Linux日志收集</p><!----></div><!----></div></div><div class="group" data-v-575e6a36><div class="VPSidebarItem level-0 collapsible collapsed" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><p class="text" data-v-b8d55f3b>云原生生态</p><!----></div><!----></div></div><div class="group" data-v-575e6a36><div class="VPSidebarItem level-0 collapsible collapsed" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><p class="text" data-v-b8d55f3b>虚拟化和云计算</p><!----></div><!----></div></div><div class="group" data-v-575e6a36><div class="VPSidebarItem level-0 collapsible collapsed" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><p class="text" data-v-b8d55f3b>容器管理工具Docker</p><!----></div><!----></div></div><div class="group" data-v-575e6a36><div class="VPSidebarItem level-0 collapsible collapsed" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><p class="text" data-v-b8d55f3b>容器管理工具Containerd</p><!----></div><!----></div></div><div class="group" data-v-575e6a36><div class="VPSidebarItem level-0 collapsible collapsed" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><p class="text" data-v-b8d55f3b>Kubernetes</p><!----></div><!----></div></div><div class="group" data-v-575e6a36><div class="VPSidebarItem level-0 collapsible collapsed" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><p class="text" data-v-b8d55f3b>数据库</p><!----></div><!----></div></div><div class="group" data-v-575e6a36><div class="VPSidebarItem level-0 collapsible collapsed" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><p class="text" data-v-b8d55f3b>微服务治理和服务网格</p><!----></div><!----></div></div><div class="group" data-v-575e6a36><div class="VPSidebarItem level-0 collapsible collapsed" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><p class="text" data-v-b8d55f3b>下一代云计算技术Serverless</p><!----></div><!----></div></div><div class="group" data-v-575e6a36><div class="VPSidebarItem level-0 collapsible collapsed" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><p class="text" data-v-b8d55f3b>基于Kubernetes构建大数据库生态圈</p><!----></div><!----></div></div><div class="group" data-v-575e6a36><div class="VPSidebarItem level-0 collapsible collapsed" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><p class="text" data-v-b8d55f3b>其它</p><!----></div><!----></div></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-3f215769 data-v-935f8a84><div class="content" data-v-935f8a84><div class="outline-marker" data-v-935f8a84></div><div class="outline-title" role="heading" aria-level="2" data-v-935f8a84>目录</div><nav aria-labelledby="doc-outline-aria-label" data-v-935f8a84><span class="visually-hidden" id="doc-outline-aria-label" data-v-935f8a84> Table of Contents for current page </span><ul class="VPDocOutlineItem root" data-v-935f8a84 data-v-b933a997><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _linux_notes_01_linux_basic_12_xdx_" data-v-39a288b8><div><h1 id="第一章-linux-软件包概述-⭐" tabindex="-1">第一章：Linux 软件包概述（⭐） <a class="header-anchor" href="#第一章-linux-软件包概述-⭐" aria-label="Permalink to &quot;第一章：Linux 软件包概述（⭐）&quot;">​</a></h1><h2 id="_1-1-主流-linux-发行版本分类" tabindex="-1">1.1 主流 Linux 发行版本分类 <a class="header-anchor" href="#_1-1-主流-linux-发行版本分类" aria-label="Permalink to &quot;1.1 主流 Linux 发行版本分类&quot;">​</a></h2><ul><li>在实际工作中，主流的 Linux 发行版本分类如下：</li></ul><p><img src="/linux/assets/1.pRLf1Han.png" alt=""></p><blockquote><p>注意⚠️：</p><ul><li>① 对于 RedHat（红帽系）而言，<code>软件包</code>的格式是 <code>rpm</code> 格式。</li><li>② 对于 Debian（Debian 系）而言，<code>软件包</code>的格式是 <code>deb</code> 格式。</li></ul></blockquote><h2 id="_1-2-linux-中软件包常见的安装方式" tabindex="-1">1.2 Linux 中软件包常见的安装方式 <a class="header-anchor" href="#_1-2-linux-中软件包常见的安装方式" aria-label="Permalink to &quot;1.2 Linux 中软件包常见的安装方式&quot;">​</a></h2><ul><li><p>在 Linux 中软件包常见的安装方式有：</p><ul><li>① yum（apt-get）安装。</li><li>② rpm（dpkg）安装。</li><li>③ 二进制安装。</li><li>④ 编译安装。</li></ul></li><li><p>它们之间的区别如下：</p></li></ul><table><thead><tr><th>软件安装方式</th><th>解释说明</th><th>自动化程度</th><th>应用场景</th><th>安装方式推荐（排序）</th></tr></thead><tbody><tr><td>yum（apt-get）安装</td><td>通过网络下载安装；如果有依赖，会自动安装依赖。</td><td>全自动</td><td>大部分场景都可以使用；如果是内网，可以自建 yum 仓库。</td><td>1️⃣</td></tr><tr><td>rpm（dpkg）安装</td><td>手动安装 rpm 包；如果缺少依赖，需要根据提示，自己手动解决。</td><td>半自动</td><td>没有网络的情况、依赖较少、误删除一些软件包的情况。</td><td>2️⃣</td></tr><tr><td>二进制安装</td><td>类似于 win 中的绿色软件，解压就可以使用；但是，可能需要准备软件所需要的环境。</td><td>手动</td><td>如果软件没有提供 yum 或 rpm 安装方式，则选择二进制安装，如：maven 。</td><td>3️⃣</td></tr><tr><td>编译（源码）安装</td><td>自定义安装，需要自己编译和安装，流程较长，比较繁琐。</td><td>完全手动</td><td>如果需要自定义安装或者上述安装方式都不存在，则选择编译安装。</td><td>4️⃣</td></tr></tbody></table><h1 id="第二章-rpm-安装-⭐" tabindex="-1">第二章：rpm 安装（⭐） <a class="header-anchor" href="#第二章-rpm-安装-⭐" aria-label="Permalink to &quot;第二章：rpm 安装（⭐）&quot;">​</a></h1><h2 id="_2-1-概述" tabindex="-1">2.1 概述 <a class="header-anchor" href="#_2-1-概述" aria-label="Permalink to &quot;2.1 概述&quot;">​</a></h2><ul><li><code>rpm（Redhat Package Manager）</code> 命令是 <code>RPM</code> 软件包的管理工具。<code>rpm</code> 原本是 <code>Red Hat Linux</code> 发行版专门用来管理 <code>Linux</code> 各项套件的程序，由于它遵循 <code>GPL</code> 规则且功能强大方便，因而广受欢迎，逐渐受到其他发行版的采用。</li><li><code>RPM</code> 套件管理方式的出现，让 <code>Linux</code> 易于安装，升级，间接提升了 <code>Linux</code> 的适用度。</li></ul><h2 id="_2-2-扫清概念-软件包和命令的区别" tabindex="-1">2.2 扫清概念（软件包和命令的区别） <a class="header-anchor" href="#_2-2-扫清概念-软件包和命令的区别" aria-label="Permalink to &quot;2.2 扫清概念（软件包和命令的区别）&quot;">​</a></h2><ul><li>在 Linux 系统中，软件包（Package）和命令（Command）是两个不同的概念，它们在系统管理和使用中扮演着不同的角色。</li><li><strong>软件包（Package）</strong>： <ul><li><code>软件包</code>是 Linux 系统中用于分发和安装软件的一种方式。它通常包含了<code>一个</code>或<code>多个程序</code>、<code>库文件</code>、<code>配置文件</code>以及<code>可能需要的其他资源</code>。</li><li>软件包可以是源代码包（Source Package），也可以是编译后的二进制包（Binary Package）。</li><li>在不同的 Linux 发行版中，软件包的格式可能有所不同，例如：Debian 和 Ubuntu 使用的是 <code>.deb</code> 格式，而 Red Hat、CentOS 和 Fedora 使用的是 <code>.rpm</code> 格式。</li><li>安装软件包，通常意味着将软件的二进制文件和相关资源放置到系统的正确位置，以便系统可以识别和运行这些软件。</li></ul></li><li><strong>命令（Command）</strong>： <ul><li>命令是用户在 Linux 命令行界面（CLI）中输入的一系列字符，用于执行特定的任务或操作。</li><li>命令可以是系统内置的，也可以是由软件包提供的，例如：<code>ls</code> 是一个列出目录内容的命令，<code>apt-get</code> 是 Debian 和 Ubuntu 系统中用于管理软件包的命令。</li><li>命令通常与特定的软件包相关联，因为它们是软件包的一部分，安装了相应的软件包后，我们就可以使用这些命令。</li></ul></li></ul><blockquote><p>温馨提示ℹ️：</p><ul><li>① 软件包是软件的集合，包含了运行软件所需的所有文件（可执行文件、库文件、配置文件、帮助文档、脚本、数据文件等），而命令（通常是可执行文件）是用户与系统交互的工具，用于执行软件包中的程序，是软件包的一部分。</li><li>② 在Linux中，我们通常需要先安装软件包，然后才能使用其中的命令。</li><li>③ <code>软件包 != 命令</code>，如：<code>ifconfig</code> 命令的软件包是 <code>net-tools</code> ，<code>rz</code> 和 <code>sz</code> 命令的软件包是 <code>lrzsz</code>。</li></ul></blockquote><h2 id="_2-3-rpm-rpm-管理软件包" tabindex="-1">2.3 rpm rpm 管理软件包 <a class="header-anchor" href="#_2-3-rpm-rpm-管理软件包" aria-label="Permalink to &quot;2.3 rpm rpm 管理软件包&quot;">​</a></h2><h3 id="_2-3-1-概述" tabindex="-1">2.3.1 概述 <a class="header-anchor" href="#_2-3-1-概述" aria-label="Permalink to &quot;2.3.1 概述&quot;">​</a></h3><ul><li>rpm rpm 管理软件包，无非增（安装）删（卸载）改（升级）查（查询），即：</li></ul><table><thead><tr><th>功能</th><th>命令</th><th>选项含义</th></tr></thead><tbody><tr><td>增（安装）</td><td><code>rpm -ivh xxx.rpm</code></td><td><code>-i</code>， <code>--install</code>：安装软件包。 <br><code>-v</code>，<code>--verbose</code> ：安装的时候显示详细信息。 <br><code>-h</code>，<code>--hash</code>：软件包安装的时候列出哈希标记，通常和 <code>-v</code> 配合使用。</td></tr><tr><td>删（卸载）</td><td><code>rpm -e xxx.rpm --nodeps</code></td><td><code>-e</code>，<code>--erase</code>：清除（卸载）软件包，eraser 是 erase 的名词，即橡皮，所以 erase 是擦除的意思。 <br><code>--nodeps</code>：不验证软件包依赖，有的时候卸载不了，就需要此参数。</td></tr><tr><td>改（升级）</td><td><code>rpm -Uvh xxx.rpm</code></td><td><code>-U</code>，<code>--upgrade</code>：升级软件包。<br><code>-v</code>，<code>--verbose</code> ：安装的时候显示详细信息。 <br><code>-h</code>，<code>--hash</code>：软件包安装的时候列出哈希标记，通常和 <code>-v</code> 配合使用。</td></tr><tr><td>查（查询）</td><td><code>rpm -qa </code></td><td><code>-q</code>，<code>--query</code> ：查询 。<br><code>-a</code>，<code>--all</code>：全部 。</td></tr><tr><td></td><td><code>rpm -ql xxx</code></td><td><code>-q</code>，<code>--query</code> ：查询。<br><code>-l</code>，<code>--list</code>：列出安装到系统中软件包中的内容（绝对路径），如：命令、配置文件等。</td></tr><tr><td></td><td><code>rpm -qf $(which xxx)</code></td><td><code>-q</code>，<code>--query</code> ：查询。<br><code>-f</code>，<code>--file</code>：根据命令或文件的绝对路径，查询对应的软件包。</td></tr></tbody></table><h3 id="_2-3-2-增-安装" tabindex="-1">2.3.2 增（安装） <a class="header-anchor" href="#_2-3-2-增-安装" aria-label="Permalink to &quot;2.3.2 增（安装）&quot;">​</a></h3><ul><li>命令：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ivh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xxx.rpm</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 下载软件包</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --no-check-certificate</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -P</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /tmp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://mirrors.tuna.tsinghua.edu.cn/zabbix/zabbix/6.0/rhel/9/x86_64/zabbix-agent2-6.0.6-2.el9.x86_64.rpm</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装依赖（后面可以通过 yum 来解决软件包依赖和查找依赖）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pcre2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 切换到指定目录</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /tmp</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ivh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> zabbix-agent2-6.0.6-2.el9.x86_64.rpm</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="/linux/assets/2.DhKCFIf-.gif" alt=""></p><h3 id="_2-3-3-查-查询" tabindex="-1">2.3.3 查（查询） <a class="header-anchor" href="#_2-3-3-查-查询" aria-label="Permalink to &quot;2.3.3 查（查询）&quot;">​</a></h3><ul><li>命令：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 查询是否安装成功</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -qa</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xxx</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 列出安装到系统中软件包中的内容（绝对路径），如：命令、配置文件等</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ql</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xxx</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 根据命令或文件的绝对路径，查询对应的软件包（了解，后期通过 yum 来实现）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -qf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> $(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">which</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xxx)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>示例：查询是否安装成功</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -qa</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> zabbix</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/3.AABCT9YL.gif" alt=""></p><ul><li>示例：列出安装到系统中软件包中的内容（绝对路径），如：命令、配置文件等</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ql</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> zabbix-agent2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/4.QhskbILM.gif" alt=""></p><ul><li>示例：根据命令或文件的绝对路径，查询对应的软件包</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -qf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> $(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">which</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ifconfig)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/5.C0SMWfGS.gif" alt=""></p><h3 id="_2-3-4-linux-中软件包的格式" tabindex="-1">2.3.4 Linux 中软件包的格式 <a class="header-anchor" href="#_2-3-4-linux-中软件包的格式" aria-label="Permalink to &quot;2.3.4 Linux 中软件包的格式&quot;">​</a></h3><ul><li>RedHat（红帽系）的软件包格式如下：</li></ul><p><img src="/linux/assets/6.BSQ0_IBA.png" alt="image-20240219141800345"></p><h3 id="_2-3-5-改-升级" tabindex="-1">2.3.5 改（升级） <a class="header-anchor" href="#_2-3-5-改-升级" aria-label="Permalink to &quot;2.3.5 改（升级）&quot;">​</a></h3><ul><li>命令：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 适用于小版本的升级</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Uvh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xxx.rpm</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>注意⚠️：</p><ul><li>① 通常，<code>rpm -Uvh xxx.rpm</code> 适用于小版本的升级。</li><li>② 在实际工作的时候，升级需要经过严格的测试（找一台裸机模拟环境进行升级）。</li></ul></blockquote><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 下载软件包</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --no-check-certificate</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -P</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /tmp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://mirrors.tuna.tsinghua.edu.cn/zabbix/zabbix/6.0/rhel/9/x86_64/zabbix-agent2-6.0.7-1.el9.x86_64.rpm</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 切换到指定目录</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /tmp</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 升级</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Uvh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> zabbix-agent2-6.0.7-1.el9.x86_64.rpm</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="/linux/assets/7.Vw_OyriW.gif" alt=""></p><h3 id="_2-3-6-删-卸载" tabindex="-1">2.3.6 删（卸载） <a class="header-anchor" href="#_2-3-6-删-卸载" aria-label="Permalink to &quot;2.3.6 删（卸载）&quot;">​</a></h3><ul><li>命令：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># xxx 是软件包的名称</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xxx</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --nodeps</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> zabbix-agent2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/8.BIdHWeqX.gif" alt=""></p><h1 id="第三章-yum-安装-⭐" tabindex="-1">第三章：yum 安装（⭐） <a class="header-anchor" href="#第三章-yum-安装-⭐" aria-label="Permalink to &quot;第三章：yum 安装（⭐）&quot;">​</a></h1><h2 id="_3-1-概述" tabindex="-1">3.1 概述 <a class="header-anchor" href="#_3-1-概述" aria-label="Permalink to &quot;3.1 概述&quot;">​</a></h2><ul><li><code>yum</code> 命令是在 <code>Fedora</code> 和 <code>RedHat</code> 以及 <code>SUSE</code> 中基于 <code>rpm</code> 的软件包管理器，它可以使系统管理人员交互和自动化地更新与管理 <code>RPM</code> 软件包，能够从指定的服务器自动下载 <code>RPM</code> 包并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软体包，无须繁琐地一次次下载、安装。</li></ul><blockquote><p>注意⚠️：</p><ul><li>① 在 AlmaLinux 8+ 之后的版本，其实更推荐使用 dnf 命令，因为其性能相对于 yum 来说更高。</li><li>② 无需担心，dnf 命令的<code>选项</code>、<code>参数</code>和 yum 命令的<code>选项</code>、<code>参数</code>几乎一样，在使用的时候，只需要将 yum 替换为 dnf 即可。</li></ul></blockquote><h2 id="_3-2-yum-安装软件包的流程" tabindex="-1">3.2 yum 安装软件包的流程 <a class="header-anchor" href="#_3-2-yum-安装软件包的流程" aria-label="Permalink to &quot;3.2 yum 安装软件包的流程&quot;">​</a></h2><h3 id="_3-2-1-概述" tabindex="-1">3.2.1 概述 <a class="header-anchor" href="#_3-2-1-概述" aria-label="Permalink to &quot;3.2.1 概述&quot;">​</a></h3><ul><li>通常而言，我们都是使用 yum 命令来安装软件包的；但是，在安装软件包的过程中，yum 命令会和 yum 源（仓库）进行交互，并确保了软件包的安装、更新和依赖关系的自动解决，即：</li></ul><p><img src="/linux/assets/9.BosRfdUW.png" alt="image-20240219151504276"></p><h3 id="_3-2-2-yum-源配置" tabindex="-1">3.2.2 yum 源配置 <a class="header-anchor" href="#_3-2-2-yum-源配置" aria-label="Permalink to &quot;3.2.2 yum 源配置&quot;">​</a></h3><ul><li>查看：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/yum.repos.d/xxx.repo</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>配置文件格式</li></ul><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>[baseos] # 源的名称</span></span>
<span class="line"><span>name=AlmaLinux $releasever - BaseOS # 描述信息</span></span>
<span class="line"><span>mirrorlist=https://mirrors.almalinux.org/mirrorlist/$releasever/baseos # yum 仓库镜像列表，会自动进行切换</span></span>
<span class="line"><span># baseurl=https://repo.almalinux.org/almalinux/$releasever/BaseOS/$basearch/os/ # 指向一个固定的地址</span></span>
<span class="line"><span>enabled=1 # 启动状态：1 开启；0 关闭</span></span>
<span class="line"><span>gpgcheck=1 # GPG 检查，1 表示在安装软件包时会进行 GPG 签名验证，确保软件包的完整性和来源的可靠性。</span></span>
<span class="line"><span>gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-AlmaLinux-9 # GPG 密钥，用于验证软件包的签名</span></span>
<span class="line"><span>countme=1 # 计数器，1 表示这个软件源应该被计入软件包管理器的统计中</span></span>
<span class="line"><span>metadata_expire=86400 # 元数据过期时间，86400 秒表示软件源的元数据（如软件包列表）在没有更新的情况下可以保持多久</span></span>
<span class="line"><span>enabled_metadata=1 # 启用元数据， 1 表示启用元数据的自动更新</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><blockquote><p>注意⚠️：</p><ul><li>① 如果是虚拟机或私有云，可能需要配置 yum 源；不过，现在默认配置的 mirrorlist 会动态切换 yum 仓库源到指定国家，速度也还是可以的。</li><li>② 如果是公有云，通常都是配置好的。</li></ul></blockquote><ul><li>修改为阿里云的 yum 镜像源：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 备份并替换默认源</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sed</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;s|^mirrorlist=|#mirrorlist=|g&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;s|^# baseurl=https://repo.almalinux.org|baseurl=https://mirrors.aliyun.com|g&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     -i.bak</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     /etc/yum.repos.d/almalinux</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.repo</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 生成缓存</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> makecache</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_3-2-3-yum-命令配置文件" tabindex="-1">3.2.3 yum 命令配置文件 <a class="header-anchor" href="#_3-2-3-yum-命令配置文件" aria-label="Permalink to &quot;3.2.3 yum 命令配置文件&quot;">​</a></h3><ul><li>查看：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/yum.conf</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>配置文件格式：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[main]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cachedir</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/var/cache/yum/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$basearch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$releasever </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 缓存目录</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">keepcache</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 是否保留缓存, 0 表示不保留缓存, 1 表示保留缓存，默认是 0 </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">logfile</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/var/log/yum.log</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # yum 操作的日志</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">gpgcheck</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">installonly_limit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">clean_requirements_on_remove</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">True</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">best</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">True</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">skip_if_unavailable</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">False</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p>注意⚠️：</p><ul><li>① 可以通过 <code>man yum.conf</code> 命令查看 yum.conf 中的所有可用的配置选项和详细描述。</li><li>② 通常情况下，我们不会修改该文件，如果在内网环境中，我们通常会搭建 yum 私服（nexus3），并指定 yum 源为 yum 私服（nexus3）。</li></ul></blockquote><h2 id="_3-3-yum-管理软件包" tabindex="-1">3.3 yum 管理软件包 <a class="header-anchor" href="#_3-3-yum-管理软件包" aria-label="Permalink to &quot;3.3 yum 管理软件包&quot;">​</a></h2><h3 id="_3-3-1-概述" tabindex="-1">3.3.1 概述 <a class="header-anchor" href="#_3-3-1-概述" aria-label="Permalink to &quot;3.3.1 概述&quot;">​</a></h3><ul><li>yum 管理软件包，无非增（安装）删（卸载）改（升级）查（查询），即：</li></ul><table><thead><tr><th>功能</th><th>命令</th><th>备注</th></tr></thead><tbody><tr><td>增（安装）</td><td><code>yum -y install xxx</code></td><td></td></tr><tr><td></td><td><code>yum -y groupinstall xxx</code></td><td>安装程序组</td></tr><tr><td>删（卸载）</td><td><code>yum -y remove xxx</code></td><td>卸载（删除）软件</td></tr><tr><td></td><td><code>yum -y groupremove xxx</code></td><td>卸载程序组</td></tr><tr><td>改（升级）</td><td><code>yum -y update</code><br><code>yum -y upgrade</code></td><td>update 和 upgrade 都是升级的意思，任选其一即可。</td></tr><tr><td>查（查询）</td><td><code>yum repolist [--all]</code></td><td>查看已启用的 yum 仓库，默认。<br><code>--all</code> 选项表示查询所有仓库。</td></tr><tr><td></td><td><code>yum grouplist [--installed]</code></td><td>查询所有程序组，默认。<br><code>--installed</code> 选项表示查询已安装的程序组。</td></tr><tr><td></td><td><code>yum list [--installed]</code></td><td>查询所有的软件包，包括仓库中的，默认。<br><code>--installed</code> 选项表示查询已经安装到本地的软件包。</td></tr><tr><td></td><td><code>yum provides xxx</code></td><td>查找提供指定内容的软件包，是 <code>rpm -qf $(which xxx)</code>的升级版本。</td></tr><tr><td>yum 仓库</td><td><code>yum config-manager --enable 仓库名称</code></td><td>启用仓库</td></tr><tr><td></td><td><code>yum config-manager --disable 仓库名称</code></td><td>禁用仓库</td></tr><tr><td>yum 缓存</td><td><code>yum clean all</code></td><td>释放磁盘空间并保持 YUM 的缓存数据最新，包括：清除缓存、清理头文件、清理过期的元数据、清理过期的软件包。</td></tr><tr><td></td><td><code>yum makecache</code></td><td>构建缓存</td></tr></tbody></table><h3 id="_3-3-2-增-安装" tabindex="-1">3.3.2 增（安装） <a class="header-anchor" href="#_3-3-2-增-安装" aria-label="Permalink to &quot;3.3.2 增（安装）&quot;">​</a></h3><h4 id="_3-3-2-1-安装软件包" tabindex="-1">3.3.2.1 安装软件包 <a class="header-anchor" href="#_3-3-2-1-安装软件包" aria-label="Permalink to &quot;3.3.2.1 安装软件包&quot;">​</a></h4><ul><li>命令：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xxx</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tree</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/10.CLlID6PH.gif" alt=""></p><h4 id="_3-3-2-2-安装程序组" tabindex="-1">3.3.2.2 安装程序组 <a class="header-anchor" href="#_3-3-2-2-安装程序组" aria-label="Permalink to &quot;3.3.2.2 安装程序组&quot;">​</a></h4><ul><li>命令：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装程序组，可以通过 yum grouplist 查询所有的程序组</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> groupinstall</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xxx</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>注意⚠️：</p><ul><li>① 在 Linux系统中，程序组（Software Group）是一个方便用户管理和安装相关软件包的<code>集合</code>。</li><li>② 程序组通常包含了一组协同工作以提供特定功能或服务的软件包。</li><li>③ 这种分组方式使得用户可以更容易地安装、更新或卸载整个功能集合，而不需要单独处理每个软件包。</li></ul></blockquote><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> groupinstall</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Development Tools&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/11.CdmqG3k4.gif" alt=""></p><h3 id="_3-3-3-查-查询" tabindex="-1">3.3.3 查（查询） <a class="header-anchor" href="#_3-3-3-查-查询" aria-label="Permalink to &quot;3.3.3 查（查询）&quot;">​</a></h3><h4 id="_3-3-3-1-查看-yum-仓库" tabindex="-1">3.3.3.1 查看 yum 仓库 <a class="header-anchor" href="#_3-3-3-1-查看-yum-仓库" aria-label="Permalink to &quot;3.3.3.1 查看 yum 仓库&quot;">​</a></h4><ul><li>命令：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> repolist</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [--all]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><p>功能：查询已启用的 yum 仓库。</p></li><li><p>选项：</p><ul><li><code>--all</code>：查询所有的 yum 仓库。</li></ul></li><li><p>示例：查询已启用的 yum 仓库</p></li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> repolist</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/12.DIhtgCf9.gif" alt=""></p><ul><li>示例：查询所有的 yum 仓库</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> repolist</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --all</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/13.By6Wm1J4.gif" alt=""></p><ul><li>示例：安装 epel 仓库</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> epel-release</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/14.QoGs9z8v.gif" alt=""></p><h4 id="_3-3-3-2-查询程序组" tabindex="-1">3.3.3.2 查询程序组 <a class="header-anchor" href="#_3-3-3-2-查询程序组" aria-label="Permalink to &quot;3.3.3.2 查询程序组&quot;">​</a></h4><ul><li>查询所有程序组命令：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> grouplist</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>查询已安装程序组命令：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> grouplist</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --installed</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>注意⚠️：</p><ul><li>① 需要英文环境，不然显示的程序组的名称是中文（如果默认的 locale 就是中文）。</li><li>② 下面的示例，我使用英文环境来测试。</li></ul></blockquote><ul><li>示例：查询所有程序组</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> grouplist</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/15.Wp0d0fI8.gif" alt=""></p><ul><li>示例：查询已安装程序组</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> grouplist</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --installed</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/16.C5EI7grG.gif" alt=""></p><h4 id="_3-3-3-3-查询软件包" tabindex="-1">3.3.3.3 查询软件包 <a class="header-anchor" href="#_3-3-3-3-查询软件包" aria-label="Permalink to &quot;3.3.3.3 查询软件包&quot;">​</a></h4><ul><li>命令：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [--installed]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><p>功能：查询软件包，包括 yum 仓库中的。</p></li><li><p>选项：</p><ul><li><code>--installed</code>：查询安装到本地的软件包。</li></ul></li><li><p>示例：查询 tree</p></li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tree</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/17.CbHOTcJQ.gif" alt=""></p><ul><li>示例：查询已安装到本地的软件包</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --installed</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tree</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/18.BZ_HMD3n.gif" alt=""></p><h4 id="_3-3-3-4-查询软件包" tabindex="-1">3.3.3.4 查询软件包 <a class="header-anchor" href="#_3-3-3-4-查询软件包" aria-label="Permalink to &quot;3.3.3.4 查询软件包&quot;">​</a></h4><ul><li>命令：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> provides</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xxx</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>功能：根据指定命令或文件查询对应的软件包。</li></ul><blockquote><p>注意⚠️：该命令是 <code>rpm -qf $(which xxx)</code>的升级版本，强烈使用！！！因为没有先安装指定的软件包的前提限制了。</p></blockquote><ul><li>示例：查询 <code>ifconfig</code>命令 对应的软件包</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> provides</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ifconfig</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/19.BDV0Zd7Y.gif" alt=""></p><ul><li>示例：查询 <code>tree</code>命令 对应的软件包</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> provides</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tree</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/20.PbDW2PK_.gif" alt=""></p><h3 id="_3-3-4-仓库-启用和禁用" tabindex="-1">3.3.4 仓库（启用和禁用） <a class="header-anchor" href="#_3-3-4-仓库-启用和禁用" aria-label="Permalink to &quot;3.3.4 仓库（启用和禁用）&quot;">​</a></h3><ul><li>启用仓库命令：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config-manager</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --enable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 仓库名称</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>禁用仓库命令：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config-manager</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --disable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 仓库名称</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>注意⚠️：</p><ul><li>① 需要在 <code>/etc/yum.repo.d/</code> 下配置有 <code>xxx.repo</code> 文件。</li><li>② 如果不是系统内置，还需要通过 <code>yum -y makecache</code> 更新本地缓存。</li><li>③ 启用仓库后，最好使用 <code>yum -y makecache</code> 更新本地缓存，以便进行软件包的查询。</li></ul></blockquote><ul><li>示例：启用仓库</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config-manager</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --enable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> crb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> devel</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/21.Cjqnc87J.gif" alt=""></p><ul><li>示例：禁用仓库</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config-manager</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --disable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> crb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> devel</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/22.BiN7ZOKy.gif" alt=""></p><h3 id="_3-3-5-改-更新" tabindex="-1">3.3.5 改（更新） <a class="header-anchor" href="#_3-3-5-改-更新" aria-label="Permalink to &quot;3.3.5 改（更新）&quot;">​</a></h3><ul><li>命令：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [软件包] [--exclude</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">软件包] [--disableexcludes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">repo]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>功能：如果不写软件包，会更新内核以及软件包。</li><li>选项： <ul><li><code>--exclude=软件包</code>：更新的时候排除某些软件包。</li><li><code>--disableexcludes=repo</code>：禁止排除某些仓库。</li></ul></li></ul><blockquote><p>注意⚠️：在生产环境中搭建 kubernetes 集群的时候，我们需要禁止内核以及 kubernetes 组件的更新，有如下的解决方案：</p><ul><li>① 临时解决方案，使用 <code>yum -y update --exclude=kernel* --exclude=kubelet --exclude=kubeadm --exclude=kubectl --exclude=docker-ce*</code> 命令。</li><li>② 永久方案，在 <code>/etc/yum.conf</code> 文件的最后一行添加 <code>exclude=kernel* kubelet kubeadm kubectl docker-ce* </code>。</li></ul></blockquote><ul><li>示例：更新软件，排除内核</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --exclude=kernel</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/23.DA0BU31i.gif" alt=""></p><h3 id="_3-3-6-删-卸载" tabindex="-1">3.3.6 删（卸载） <a class="header-anchor" href="#_3-3-6-删-卸载" aria-label="Permalink to &quot;3.3.6 删（卸载）&quot;">​</a></h3><ul><li>命令：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remove</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 软件包</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>注意⚠️：删除需要谨慎，生产环境切勿随意删除软件包；如果一定要删除，可以使用 <code>rpm -e xxx</code> 命令。</p></blockquote><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remove</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tree</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/24.9vhD97RK.gif" alt=""></p><h1 id="第四章-编译-源码-安装-⭐" tabindex="-1">第四章：编译（源码）安装（⭐） <a class="header-anchor" href="#第四章-编译-源码-安装-⭐" aria-label="Permalink to &quot;第四章：编译（源码）安装（⭐）&quot;">​</a></h1><h2 id="_4-1-概述" tabindex="-1">4.1 概述 <a class="header-anchor" href="#_4-1-概述" aria-label="Permalink to &quot;4.1 概述&quot;">​</a></h2><ul><li>很多 Linux 上的软件都是使用 C 语言写的，为了简化跨平台构建，很多 C 语言项目使用了 GNU Autotools 工具链来进行构建。</li><li>GNU Autotools 工具链是一个自动化的构建系统，包括了：<code>autoconf</code>、<code>automake</code> 和 <code>libtool</code> 等工具，通过它可以很容易的将源代码在不同的操作系统和编译环境中进行编译和安装。</li><li>GNU Autotools 工具链配置、编译和安装过程如下： <ul><li>① <strong><code>配置</code></strong>：使用 <code>configure</code> 脚本来检查系统环境并生成 <code>Makefile</code>。这个脚本会根据你的系统配置（如：是否支持 SSL、是否安装了 PCRE 和 Zlib 、安装到那个目录，默认是 /usr/local 等）来定制 <code>Makefile</code>。</li><li>② <strong><code>编译</code></strong>：使用 <code>make</code> 命令根据 <code>Makefile</code> 编译 C 语言源代码，生成的通常是可执行文件（executables）、静态库（static libraries）、动态库（shared libraries）或目标文件（object files），具体取决于项目的构建配置和 <code>Makefile</code> 中定义的规则。</li><li>③ <strong><code>安装</code></strong>：使用 <code>make install</code> 命令将编译好的可执行文件、库文件、头文件等安装到系统的标准路径中。</li></ul></li></ul><blockquote><p>注意⚠️：Nginx 是一个用 C 语言编写的项目，其就是使用 GNU Autotools 工具链进行项目构建的。</p></blockquote><h2 id="_4-2-安装-nginx" tabindex="-1">4.2 安装 NGINX <a class="header-anchor" href="#_4-2-安装-nginx" aria-label="Permalink to &quot;4.2 安装 NGINX&quot;">​</a></h2><ul><li>下载源码：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -P</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /tmp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://freenginx.org/download/nginx-1.24.0.tar.gz</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/25.B8GlIYJG.gif" alt=""></p><ul><li>安装依赖：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gcc</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gcc-c++</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  autoconf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> automake</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pcre</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pcre-devel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> zlib</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> zlib-devel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openssl-devel</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/26.NSkABiba.gif" alt=""></p><ul><li>解压：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /tmp</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -zxvf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nginx-1.24.0.tar.gz</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/27.CPQf8aHI.gif" alt=""></p><ul><li>配置：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nginx-1.24.0</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./configure</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/28.CabeCA9O.gif" alt=""></p><ul><li>编译：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/29.B_gTjkv0.gif" alt=""></p><ul><li>安装：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/30.CRR_bbHs.gif" alt=""></p><ul><li>启动并测试：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/nginx/sbin</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./nginx</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://127.0.0.1:80</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/31.Dx0Ve3JI.gif" alt=""></p><h1 id="第五章-使用-nexus3-搭建-yum-私有仓库-⭐" tabindex="-1">第五章：使用 nexus3 搭建 yum 私有仓库（⭐） <a class="header-anchor" href="#第五章-使用-nexus3-搭建-yum-私有仓库-⭐" aria-label="Permalink to &quot;第五章：使用 nexus3 搭建 yum 私有仓库（⭐）&quot;">​</a></h1><h2 id="_5-1-安装-nexus3" tabindex="-1">5.1 安装 nexus3 <a class="header-anchor" href="#_5-1-安装-nexus3" aria-label="Permalink to &quot;5.1 安装 nexus3&quot;">​</a></h2><h3 id="_5-1-1-概述" tabindex="-1">5.1.1 概述 <a class="header-anchor" href="#_5-1-1-概述" aria-label="Permalink to &quot;5.1.1 概述&quot;">​</a></h3><ul><li>nexus3 是用 Java 语言构建的集中式组件仓库，它支持各种软件包，如：Maven、YUM、npm 等。</li></ul><p><img src="/linux/assets/32.BsDCUYbq.png" alt="image-20240309095943990"></p><blockquote><p>注意⚠️：nexus3 的下载地址是<a href="https://help.sonatype.com/en/download-archives---repository-manager-3.html" target="_blank" rel="noreferrer">这里</a>。</p></blockquote><ul><li>目前的架构如下：</li></ul><p><img src="/linux/assets/33.C1wCAnGW.png" alt="image-20240309133612792"></p><blockquote><p>注意⚠️：nexus3 的主要功能和应用场景如下：</p><ul><li>① <strong>中央仓库缓存</strong>：Nexus3 可以作为中央仓库，如：Maven Central 的缓存服务器，提高内部网络中构建和依赖下载的速度。通过设置代理仓库，可以减少对外部网络的依赖，同时节省带宽。</li><li>② <strong>私有仓库</strong>：开发者可以在 Nexus3 中创建私有仓库，用于存储公司内部开发的库和依赖。这有助于保护知识产权，同时方便内部团队共享和重用代码。</li><li>③ <strong>依赖管理</strong>：Nexus3 提供了对依赖的管理和分发功能，可以帮助团队管理项目依赖，确保依赖的一致性和安全性。</li><li>④ <strong>Docker 镜像仓库</strong>：Nexus3 支持 Docker 镜像的存储和分发，这对于容器化应用的构建和部署非常有用。它可以作为 Docker Registry 的私有替代品。</li><li>⑤ <strong>权限管理</strong>：Nexus3 提供了细粒度的权限控制，允许管理员根据用户和角色设置访问权限，确保资源的安全性。</li><li>⑥ <strong>仓库类型支持</strong>：除了 Maven 和 Docker，Nexus3 还支持 npm、Bower、RubyGems 等多种仓库类型，使其成为一个多功能的仓库管理平台。</li><li>⑦ ……</li></ul></blockquote><h3 id="_5-1-2-安装并启动" tabindex="-1">5.1.2 安装并启动 <a class="header-anchor" href="#_5-1-2-安装并启动" aria-label="Permalink to &quot;5.1.2 安装并启动&quot;">​</a></h3><ul><li>安装 JDK ：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> java-1.8.0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/34.D08Cxfad.gif" alt=""></p><ul><li>查看 JDK 是否安装成功：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">javac</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -version</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">java</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -version</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/35.C6qIBN5-.gif" alt=""></p><ul><li>下载 nexus3 ：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -L</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /opt/nexus-3.66.0-02-unix.tar.gz</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	--no-buffer</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://download.sonatype.com/nexus/3/nexus-3.66.0-02-unix.tar.gz</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="/linux/assets/36.DmeaMKmH.gif" alt=""></p><ul><li>解压并重命名：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /opt</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -zxvf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nexus-3.66.0-02-unix.tar.gz</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -C</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nexus-3.66.0-02</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nexus3</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/37.Dao2r4F2.gif" alt=""></p><ul><li>创建虚拟用户：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">useradd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -M</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /sbin/nologin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nexus3</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/38.DWLXj8v8.gif" alt=""></p><ul><li>授权 nexus3 目录权限：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chown</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -R</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nexus3:nexus3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/nexus3</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chown</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -R</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nexus3:nexus3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/sonatype-work</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="/linux/assets/39.kEFMuDEt.gif" alt=""></p><ul><li>配置 systemd ：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vim</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/systemd/system/nexus.service</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>[Unit]</span></span>
<span class="line"><span>Description=nexus3 service</span></span>
<span class="line"><span>After=network.target</span></span>
<span class="line"><span>  </span></span>
<span class="line"><span>[Service]</span></span>
<span class="line"><span>Type=forking</span></span>
<span class="line"><span>LimitNOFILE=65536</span></span>
<span class="line"><span>ExecStart=/usr/local/nexus3/bin/nexus start</span></span>
<span class="line"><span>ExecStop=/usr/local/nexus3/bin/nexus stop </span></span>
<span class="line"><span>User=nexus3</span></span>
<span class="line"><span>Group=nexus3</span></span>
<span class="line"><span>Restart=on-abort</span></span>
<span class="line"><span>TimeoutSec=600</span></span>
<span class="line"><span>  </span></span>
<span class="line"><span>[Install]</span></span>
<span class="line"><span>WantedBy=multi-user.target</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><img src="/linux/assets/40.JeV0HCPe.gif" alt=""></p><ul><li>启动：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> daemon-reload</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --now</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nexus.service</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/41.8t6h5Ar0.gif" alt=""></p><ul><li>查询服务是否启动：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 如果失败，可以通过 journalctl -u nexus 调试错误</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sytemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> status</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nexus</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="/linux/assets/42.DQF-cGP-.gif" alt=""></p><h2 id="_5-2-访问并配置" tabindex="-1">5.2 访问并配置 <a class="header-anchor" href="#_5-2-访问并配置" aria-label="Permalink to &quot;5.2 访问并配置&quot;">​</a></h2><h3 id="_5-2-1-访问" tabindex="-1">5.2.1 访问 <a class="header-anchor" href="#_5-2-1-访问" aria-label="Permalink to &quot;5.2.1 访问&quot;">​</a></h3><ul><li>通过浏览器输入 <code>http://192.168.10.100:8081</code> 来进行访问（请先关闭防火墙）：</li></ul><p><img src="/linux/assets/43.Bs6D3OIg.png" alt="image-20240309114510501"></p><ul><li>默认的用户名是 <code>admin</code> ，可以根据提示获取初始化密码：</li></ul><p><img src="/linux/assets/44.DsXJwmSP.png" alt="image-20240309114557125"></p><ul><li>登录到系统中：</li></ul><p><img src="/linux/assets/45.C1LNLxOL.png" alt="image-20240309114638073"></p><ul><li>根据提示，修改初始化密码：</li></ul><p><img src="/linux/assets/46.BpHIsmnP.png" alt="image-20240309114720441"></p><ul><li>其余，下一步即可：</li></ul><p><img src="/linux/assets/47.KL3KQPxE.png" alt="image-20240309114837106"></p><p><img src="/linux/assets/48.DiFlUcGf.png" alt="image-20240309114858532"></p><h3 id="_5-2-2-解释-nexus3-中仓库的类型" tabindex="-1">5.2.2 解释 nexus3 中仓库的类型 <a class="header-anchor" href="#_5-2-2-解释-nexus3-中仓库的类型" aria-label="Permalink to &quot;5.2.2 解释 nexus3 中仓库的类型&quot;">​</a></h3><ul><li>我们可以通过如下的步骤，查看 nexus3 中的仓库类型：</li></ul><p><img src="/linux/assets/49.Cq_BV5GZ.png" alt="image-20240309141551634"></p><p><img src="/linux/assets/50.BLchxdNt.png" alt="image-20240309141629121"></p><p><img src="/linux/assets/51.DFGfI242.png" alt="image-20240309141725221"></p><ul><li><p>我们注意到，nexus3 中的仓库类型有 3 种，区别如下：</p></li><li><p>① hosted（宿主仓库，本地仓库）：</p><ul><li>该仓库是 nexus3 服务器上的本地仓库。用于存储和分发用户自己创建和管理的软件包。</li><li>hosted仓库可以是 Releases（只发布正式版本）、Snapshots（用于存储开发中的快照版本）或者 Mixed（混合使用 Releases 和 Snapshots）。</li><li>hosted 仓库通常用于管理内部开发的软件项目，或者作为私有的依赖库（一般不对外开放）。</li></ul></li><li><p>② proxy（代理仓库）：</p><ul><li>proxy 仓库是 Nexus3 作为中间代理，代理外部仓库，如：Maven Central、npm 官方仓库等的仓库。</li><li>当用户从 Proxy 仓库拉取软件包时，nexus3 会先从外部仓库下载软件包，然后缓存到本地，之后再提供给用户。这样可以加快后续的下载速度，因为用户可以从本地缓存中获取软件包，而不是每次都从外部网络下载。</li><li>proxy仓库通常用于加速外部仓库的访问速度，减少对外部网络的依赖，以及在网络不稳定或受限的情况下提供稳定的软件包以便获取服务。</li></ul></li><li><p>③ group（仓库组）：</p><ul><li>group 仓库是将多个仓库（可以是 hosted、proxy 或其他 group）组合在一起，形成一个逻辑上的仓库组。</li><li>用户可以像操作单个仓库一样操作 group 仓库，但实际上 nexus3 会根据配置的规则，从组内的多个仓库中寻找和提供构件。</li><li>group 仓库通常用于实现复杂的仓库管理策略，例如：可以将一个 proxy 仓库和一个或多个 hosted仓库组合在一起，以便在满足特定条件时从不同的仓库中获取软件包。</li></ul></li></ul><blockquote><p>注意⚠️：这三种仓库类型提供了灵活的仓库管理策略，使得 nexus3 能够适应不同的软件开发和部署需求。通过合理配置这些仓库类型，可以优化构建流程，提高效率，同时确保依赖的一致性和安全性。</p></blockquote><h3 id="_5-2-3-配置" tabindex="-1">5.2.3 配置 <a class="header-anchor" href="#_5-2-3-配置" aria-label="Permalink to &quot;5.2.3 配置&quot;">​</a></h3><h4 id="_5-2-3-1-创建-blob-存储空间" tabindex="-1">5.2.3.1 创建 blob 存储空间 <a class="header-anchor" href="#_5-2-3-1-创建-blob-存储空间" aria-label="Permalink to &quot;5.2.3.1 创建 blob 存储空间&quot;">​</a></h4><ul><li>因为 nexus3 可以作为多种软件包的集中式组件仓库，所以我们需要为其单独创建一个 blob 存储空间，即：</li></ul><p><img src="/linux/assets/52.DWk-Oqo-.png" alt="image-20240309142652442"></p><p><img src="/linux/assets/53.CFSpi_X5.png" alt="image-20240309142748388"></p><p><img src="/linux/assets/54.Ck7bBmqp.png" alt="image-20240309142818812"></p><h4 id="_5-2-3-2-创建-hosted-类型的仓库" tabindex="-1">5.2.3.2 创建 hosted 类型的仓库 <a class="header-anchor" href="#_5-2-3-2-创建-hosted-类型的仓库" aria-label="Permalink to &quot;5.2.3.2 创建 hosted 类型的仓库&quot;">​</a></h4><ul><li>创建仓库：</li></ul><p><img src="/linux/assets/55.BsraAXE6.png" alt="image-20240309142921618"></p><ul><li>选择仓库的类型：</li></ul><p><img src="/linux/assets/56.C5Wws8SM.png" alt="image-20240309142957323"></p><ul><li>填写关键信息，完成仓库的创建：</li></ul><p><img src="/linux/assets/57.C6PE0OXY.png" alt=""></p><p><img src="/linux/assets/58.B87yTtrX.png" alt="image-20240309144328206"></p><h4 id="_5-2-3-3-创建-proxy-类型的仓库" tabindex="-1">5.2.3.3 创建 proxy 类型的仓库 <a class="header-anchor" href="#_5-2-3-3-创建-proxy-类型的仓库" aria-label="Permalink to &quot;5.2.3.3 创建 proxy 类型的仓库&quot;">​</a></h4><ul><li>和创建 hosted 类型的仓库的步骤类似，只不过需要填写远程 yum 仓库的地址，如：</li></ul><p><img src="/linux/assets/59.BwP4HFmM.png" alt=""></p><ul><li>仓库创建完毕时的状态如下：</li></ul><p><img src="/linux/assets/60.CthtCSlD.png" alt="image-20240309145709198"></p><h4 id="_5-2-3-4-创建-group-类型的仓库" tabindex="-1">5.2.3.4 创建 group 类型的仓库 <a class="header-anchor" href="#_5-2-3-4-创建-group-类型的仓库" aria-label="Permalink to &quot;5.2.3.4 创建 group 类型的仓库&quot;">​</a></h4><ul><li>将刚才创建的 hosted 类型和 proxy 类型的仓库，组合为 group 类型，即：</li></ul><p><img src="/linux/assets/61.CJtiJm8l.png" alt="image-20240309145934873"></p><ul><li>仓库创建完毕时的状态如下：</li></ul><p><img src="/linux/assets/62.Dt4SPXRB.png" alt="image-20240309150013335"></p><h2 id="_5-3-配置-yum-源为-nexus3" tabindex="-1">5.3 配置 yum 源为 nexus3 <a class="header-anchor" href="#_5-3-配置-yum-源为-nexus3" aria-label="Permalink to &quot;5.3 配置 yum 源为 nexus3&quot;">​</a></h2><ul><li>在 nexus3 的界面中，复制 yum 源的地址：</li></ul><p><img src="/linux/assets/63.DvcQ8zJT.png" alt="image-20240309150428604"></p><p><img src="/linux/assets/64.BoMB5bMa.png" alt="image-20240309150516576"></p><ul><li>配置 yum 源：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sed</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;s|^mirrorlist=|#mirrorlist=|g&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;s|^# baseurl=https://repo.almalinux.org|baseurl=http://192.168.10.100:8081/repository/proxy-aliyun-yum|g&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      -i.bak</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      /etc/yum.repos.d/almalinux</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.repo</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>注意⚠️：</p><ul><li>① 目前，官方没有解决 group 元数据合并问题，所以使用 proxy 类型的仓库。</li><li>② 在 AlmaLinux9 中，已经将软件包按功能划分为一个仓库，如：baseos、appstream、extras ，目的是方便管理。</li></ul></blockquote><p><img src="/linux/assets/65.DNjeqOxD.gif" alt=""></p><h2 id="_5-4-测试" tabindex="-1">5.4 测试 <a class="header-anchor" href="#_5-4-测试" aria-label="Permalink to &quot;5.4 测试&quot;">​</a></h2><ul><li>清除本地缓存，并重新构建缓存：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clean</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> all</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> makecache</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/66.ByqO3E3r.gif" alt=""></p><ul><li>安装 Nginx 进行测试 ：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nginx</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/67.sAMK_tbb.gif" alt=""></p><h1 id="第六章-dnf-安装-⭐" tabindex="-1">第六章：dnf 安装（⭐） <a class="header-anchor" href="#第六章-dnf-安装-⭐" aria-label="Permalink to &quot;第六章：dnf 安装（⭐）&quot;">​</a></h1><h2 id="_6-1-概述" tabindex="-1">6.1 概述 <a class="header-anchor" href="#_6-1-概述" aria-label="Permalink to &quot;6.1 概述&quot;">​</a></h2><ul><li>在 AlmaLinux9 中，推荐使用 <code>dnf</code> 来管理软件包；不过，为了兼容之前的版本，我们还是可以使用 <code>yum</code> 命令的。</li></ul><blockquote><p>温馨提示ℹ️：</p><ul><li>① Yum 主要使用 Python 编写，有自己的依赖解析方法。</li><li>② DNF 使用 libsolv 进行依赖解析，由 SUSE 开发和维护，旨在提高性能。</li></ul></blockquote><h2 id="_6-2-软件仓库" tabindex="-1">6.2 软件仓库 <a class="header-anchor" href="#_6-2-软件仓库" aria-label="Permalink to &quot;6.2 软件仓库&quot;">​</a></h2><ul><li>默认情况下，AlmaLinux9 启用了如下的仓库：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> repolist</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [--enabled]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/68.xw6BJ2nU.png" alt=""></p><blockquote><p>温馨提示ℹ️：</p><ul><li>① <code>baseos</code> 软件仓库提供底层操作系统功能的核心组件，它包含了构成基础操作系统的基本软件包，如：系统库、工具和驱动程序，该仓库的内容采用 RPM 格式，支持条款与之前的 RHEL 版本相似。</li><li>② <code>appstream</code> 软件仓库包含额外的用户空间应用程序、运行时语言和数据库，这些组件支持各种工作负载和使用案例，如：开发工具、Web 服务器、数据库等。并且该仓库的内容包括多个版本的用户空间组件，这些组件的更新频率可能高于核心操作系统软件包，它提供了更大的灵活性，允许用户自定义 RHEL 版本，同时不影响平台的基本稳定性。</li><li>③ <code>epel</code> 软件仓库旨在为 RHEL 及其衍生版（如 CentOS、Scientific Linux 等）提供那些在官方仓库中不可用的额外软件包。epel 是由 Fedora 项目社区维护的，它提供了许多在 RHEL 官方仓库中找不到的软件，这些软件通常是由社区成员构建和测试的，它仍然遵循严格的质量控制流程，确保软件包的稳定性和安全性。</li><li>④ <code>extra</code> 软件仓库通常是 CentOS 或 RHEL 官方支持的一部分，它提供了一些官方仓库中未包含的软件包，这些软件可能不是由 CentOS 或 RHEL 官方团队直接维护的，但被认为是对用户有用的。</li></ul></blockquote><ul><li>也可以通过如下的命令，来查看的所有的软件仓库：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> repolist</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --all</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/69.M4Eoh0YU.png" alt=""></p><ul><li>也可以通过如下的命令，来查看的所有的禁用的软件仓库：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> repolist</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --disabled</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/70.D-56kb5d.png" alt=""></p><h2 id="_6-3-软件包格式" tabindex="-1">6.3 软件包格式 <a class="header-anchor" href="#_6-3-软件包格式" aria-label="Permalink to &quot;6.3 软件包格式&quot;">​</a></h2><h3 id="_6-3-1-概述" tabindex="-1">6.3.1 概述 <a class="header-anchor" href="#_6-3-1-概述" aria-label="Permalink to &quot;6.3.1 概述&quot;">​</a></h3><ul><li>AlmaLinux 9 提供的软件包格式包括： <ul><li>RPM 格式。</li><li>模块化，它们是 RPM 格式的扩展。</li><li>Software Collections。</li></ul></li></ul><blockquote><p>注意ℹ️：</p><ul><li>① Software Collections 主要是为了解决 CentOS7 软件包版本固定的问题，毕竟这个操作系统存在的时间太长了，长达 10 年；但是，CentOS 7 已经退出了历史舞台了，即该技术也已经过时了，被模块化所取代。</li><li>② dnf 其实一直运行在 fedora 项目中，而在 fedora 项目中其实一直没有很好的支持 Software Collections 。</li></ul></blockquote><h3 id="_6-3-2-rpm-格式" tabindex="-1">6.3.2 RPM 格式 <a class="header-anchor" href="#_6-3-2-rpm-格式" aria-label="Permalink to &quot;6.3.2 RPM 格式&quot;">​</a></h3><ul><li>所谓的 RPM 格式，就是在每个主要的 Linux 版本中都安装有指定版本的 RPM 包。</li></ul><p><img src="/linux/assets/71.DpBRuccH.png" alt=""></p><ul><li>RPM 格式的优点： <ul><li>RPM 格式是一种标准的软件包管理格式，可以用于打包、安装和管理软件包。</li><li>它提供了直接的软件包安装和卸载方式，适用于大多数常见的软件包管理任务。</li></ul></li><li>RPM 格式的缺点： <ul><li>RPM 格式在处理软<code>件依赖关系</code>和<code>多版本软件管理</code>时相对较为基础，不够灵活。</li><li>当需要管理<code>多个版本</code>的软件包或处理<code>复杂的依赖关系</code>时，RPM 格式可能显得不够方便。</li></ul></li></ul><blockquote><p>温馨提示ℹ️：通常，我们在使用 <code>dnf -y install xxx</code> 的时候就是这种方式。</p></blockquote><h3 id="_6-3-3-模块化" tabindex="-1">6.3.3 模块化 <a class="header-anchor" href="#_6-3-3-模块化" aria-label="Permalink to &quot;6.3.3 模块化&quot;">​</a></h3><ul><li>我们也知道，很多软件包，都有不同的版本，并且每个版本又可能分为开发版本、客户端版本、服务器端版本、最小安装版本或其他等。</li><li>以 <code>node.js</code> 为例：</li></ul><p><img src="/linux/assets/72.221wjsAM.png" alt=""></p><ul><li>以 <code>postgresql</code> 为例：</li></ul><p><img src="/linux/assets/73.hAenChKG.png" alt=""></p><ul><li>我们可以通过如下命令来查询系统内置的模块化：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/74.C-5C1_Rk.png" alt=""></p><blockquote><p>温馨提示ℹ️：</p><ul><li>① 对于 stream 和 profile 而言，可能有多个，但是总是会有一个是默认的，使用 d 来表示。</li><li>② 模块化软件包的格式有： <ul><li><code>NAME</code>（模块化软件包的名称）。</li><li><code>NAME:STREAM</code>（模块化软件包的名称:模块化软件包的版本）</li><li><code>NAME/PROFILE</code>（模块化软件包的名称/软件包的应用场景）</li><li><code>NAME:STREAM/PROFILE</code>（模块化软件包的名称:模块化软件包的版本/软件包的应用场景）</li></ul></li></ul></blockquote><ul><li>所以，模块化软件包在 Linux 系统中的表现形式如下：</li></ul><p><img src="/linux/assets/75.DZH9F1rH.png" alt=""></p><h2 id="_6-4-dnf-搜索" tabindex="-1">6.4 dnf 搜索 <a class="header-anchor" href="#_6-4-dnf-搜索" aria-label="Permalink to &quot;6.4 dnf 搜索&quot;">​</a></h2><h3 id="_6-4-1-搜索软件包" tabindex="-1">6.4.1 搜索软件包 <a class="header-anchor" href="#_6-4-1-搜索软件包" aria-label="Permalink to &quot;6.4.1 搜索软件包&quot;">​</a></h3><ul><li>根据<code>软件包</code>的<code>名称</code>或<code>摘要</code>搜索软件包：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> search</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> search</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tree</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/76.Cw04DPe8.gif" alt=""></p><ul><li>根据<code>软件包</code>的<code>名称</code>、<code>概述</code>或<code>描述</code>中搜索：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> search</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --all</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> search</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --all</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ifconfig</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/77.DbM_3iFk.gif" alt=""></p><ul><li>根据<code>软件包</code>的<code>名称</code>，列出<code>软件包</code>的<code>名称</code>及其<code>版本</code>：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> repoquery</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">package_nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> repoquery</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kernel</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/78.DXkoZ0IG.gif" alt=""></p><ul><li>根据<code>文件名（命令）</code>或<code>文件名的路径</code>，查询<code>软件包</code>的<code>名称</code>：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> provides</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">file_nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> provides</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ifconfig</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/79.BJyVzRoN.gif" alt=""></p><h3 id="_6-4-2-显示软件包" tabindex="-1">6.4.2 显示软件包 <a class="header-anchor" href="#_6-4-2-显示软件包" aria-label="Permalink to &quot;6.4.2 显示软件包&quot;">​</a></h3><ul><li>显示<code>所有</code>可用的<code>软件包</code>的<code>最小版本</code>，包括<code>构架</code>、<code>版本号</code>以及从其中安装的<code>存储库</code>：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --all</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --all</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/80.CiAZXfOh.gif" alt=""></p><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --all</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kernel</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/81.C5JZoglL.gif" alt=""></p><ul><li>显示<code>所有</code>可用的<code>软件包</code>，包括<code>版本号</code>和<code>架构</code>：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> repoquery</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> repoquery</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/82.yW9CRSR8.gif" alt=""></p><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> repoquery</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kernel</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/83.brQ_0cpc.gif" alt=""></p><ul><li>显示所有<code>已经安装</code>的<code>软件包</code>：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --installed</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --installed</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/84.ZbGipcl5.gif" alt=""></p><ul><li>显示所有<code>可用</code>的<code>软件包</code>：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --available</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --available</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/85.DUQ-hC2o.gif" alt=""></p><ul><li>显示<code>新版本</code>提供的<code>软件包</code>：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --upgrades</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --upgrades</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/86.DIyXFnek.gif" alt=""></p><h3 id="_6-4-3-显示软件仓库" tabindex="-1">6.4.3 显示软件仓库 <a class="header-anchor" href="#_6-4-3-显示软件仓库" aria-label="Permalink to &quot;6.4.3 显示软件仓库&quot;">​</a></h3><ul><li>显示系统上<code>所有启用</code>的<code>软件仓库</code>：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> repolist</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [--enabled]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> repolist</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/87.B1VZJk3M.gif" alt=""></p><ul><li>列出系统上<code>所有</code>的<code>软件仓库</code>，包括<code>启用</code>和<code>禁用</code>：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> repolist</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --all</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/88.BPiauCAn.gif" alt=""></p><ul><li>显示系统上<code>所有禁用</code>的<code>软件仓库</code>：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> repolist</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --disabled</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/89.Dr6mJRWz.gif" alt=""></p><ul><li>显示<code>软件仓库</code>的<code>额外信息</code>：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> repoinfo</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">repository_nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> repoinfo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> baseos</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/90.B4SIgk2Z.gif" alt=""></p><h3 id="_6-4-4-显示软件包信息" tabindex="-1">6.4.4 显示软件包信息 <a class="header-anchor" href="#_6-4-4-显示软件包信息" aria-label="Permalink to &quot;6.4.4 显示软件包信息&quot;">​</a></h3><ul><li>显示<code>软件包</code>（安装到当前系统以及软件仓库中的最新版本）的<code>详细信息</code>，包括版本、发布、架构、软件包大小和描述等：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> info</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">package_nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> info</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kernel</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/91.o_0jbcEi.gif" alt=""></p><ul><li>显示<code>软件包</code>的<code>所有版本</code>的<code>详细信息</code>：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> repoquery</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --info</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">package_nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> repoquery</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --info</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kernel</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/92.B1nPnI3o.gif" alt=""></p><h3 id="_6-4-5-显示软件包组及其提供的软件包" tabindex="-1">6.4.5 显示软件包组及其提供的软件包 <a class="header-anchor" href="#_6-4-5-显示软件包组及其提供的软件包" aria-label="Permalink to &quot;6.4.5 显示软件包组及其提供的软件包&quot;">​</a></h3><ul><li>显示<code>已经安装</code>和<code>可用</code>的<code>软件包组</code>：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> group</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> group</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/93.CPJjc400.gif" alt=""></p><ul><li>显示<code>软件包组</code>中的<code>强制</code>、<code>可选</code>和<code>默认</code>的<code>软件包</code>：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> group</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> info</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&lt;group_name&gt;&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> group</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> info</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;System Tools&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/94.4r7H1hve.gif" alt=""></p><h3 id="_6-4-6-显示可用模块化内容" tabindex="-1">6.4.6 显示可用模块化内容 <a class="header-anchor" href="#_6-4-6-显示可用模块化内容" aria-label="Permalink to &quot;6.4.6 显示可用模块化内容&quot;">​</a></h3><ul><li>显示所有<code>可用</code>的<code>模块化</code>：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/95.DFStnd9B.gif" alt=""></p><ul><li>根据<code>软件包</code>查询属于哪个<code>模块</code>：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> provides</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">package_nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> provides</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/96.BPFmlzX_.gif" alt=""></p><ul><li>显示<code>模块</code>的<code>详细信息</code>：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> info</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">module_nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> info</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nodejs</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/97.B7saQpQ5.gif" alt=""></p><h2 id="_6-5-dnf-安装" tabindex="-1">6.5 dnf 安装 <a class="header-anchor" href="#_6-5-dnf-安装" aria-label="Permalink to &quot;6.5 dnf 安装&quot;">​</a></h2><h3 id="_6-5-1-安装软件包" tabindex="-1">6.5.1 安装软件包 <a class="header-anchor" href="#_6-5-1-安装软件包" aria-label="Permalink to &quot;6.5.1 安装软件包&quot;">​</a></h3><ul><li>从<code>软件仓库</code>中安装<code>指定的软件包</code>：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">package_name_</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">1&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">package_name_</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">2&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nodejs</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/98.axkTxGBm.gif" alt=""></p><ul><li>安装<code>本地 RPM 包</code>，并自动<code>从</code>软件仓库中<code>解决依赖</code>：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xxx.rmp</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>温馨提示ℹ️：之前，在使用 yum 的时候，我们会使用 <code>yum -y localinstall xxx.rpm</code> 来安装本地的 RPM 包；但是，这个 <code>localinstall</code> 在 dnf 已经被标记为过时。</p></blockquote><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 下载安装包</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -O</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql-8.0.36-1.el9.x86_64.rpm-bundle.tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">https://dev.mysql.com/get/Downloads/MySQL-8.0/mysql-8.0.36-1.el9.x86_64.rpm-bundle.tar</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 解压到指定目录</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -xvf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql-8.0.36-1.el9.x86_64.rpm-bundle.tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --one-top-level=mysql-8.0.36</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql-8.0.36</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装依赖</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://dev.mysql.com/get/mysql80-community-release-el9-5.noarch.rpm</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装 MySQL</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql-community-server-8.0.36-1.el9.x86_64.rpm</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="/linux/assets/99.B1NjDih8.gif" alt=""></p><h3 id="_6-5-2-安装软件包组" tabindex="-1">6.5.2 安装软件包组 <a class="header-anchor" href="#_6-5-2-安装软件包组" aria-label="Permalink to &quot;6.5.2 安装软件包组&quot;">​</a></h3><ul><li>从<code>软件仓库</code>中安装<code>软件包组</code>：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> group</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">group_name_or_I</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">D</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> group</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;System Tools&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/100.TSTZCm-U.gif" alt=""></p><h3 id="_6-5-3-安装模块化内容" tabindex="-1">6.5.3 安装模块化内容 <a class="header-anchor" href="#_6-5-3-安装模块化内容" aria-label="Permalink to &quot;6.5.3 安装模块化内容&quot;">​</a></h3><ul><li>显示所有<code>可用</code>的软件包的<code>模块化</code>：</li></ul><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>dnf module list</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/101.CzC_thLV.gif" alt=""></p><ul><li>显示<code>想要</code>安装的软件包的<code>模块化</code>：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">module_nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nodejs</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/102.BPP0Cn2u.gif" alt=""></p><ul><li><code>启用</code>软件包的<code>模块化</code>，并<code>安装</code>模块化中的<code>软件包</code>：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> module</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">module_name:stream_nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">	dnf</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> module_name</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>温馨提示ℹ️：这种方式和传统的 <code>dnf -y install xxx</code> 的方式没有什么区别，都只是安装了软件包，并没有在系统中<code>安装</code>软件的<code>模块化</code>；换言之，使用 <code>dnf module list --installed</code> 命令并不能查询到。</p></blockquote><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nodejs:18</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">	dnf</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nodejs</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="/linux/assets/103.B964lCEx.gif" alt=""></p><ul><li><code>安装</code>软件包的<code>模块</code>：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NAME</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NAME:STREAM</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NAME/PROFILE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NAME:STREAM/PROFILE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nodejs:18</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/104.SxrMkzOm.gif" alt=""></p><ul><li><code>切换</code>软件包的<code>模块化</code>：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> switch-to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NAME:STREAM</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>温馨提示ℹ️： 切换流是一项有风险的操作，并不是所有的软件包都支持这种操作，尤其是降级。</p></blockquote><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> switch-to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nodejs:20</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/105.DX0Nq1kF.gif" alt=""></p><h2 id="_6-6-dnf-更新" tabindex="-1">6.6 dnf 更新 <a class="header-anchor" href="#_6-6-dnf-更新" aria-label="Permalink to &quot;6.6 dnf 更新&quot;">​</a></h2><h3 id="_6-6-1-检查更新" tabindex="-1">6.6.1 检查更新 <a class="header-anchor" href="#_6-6-1-检查更新" aria-label="Permalink to &quot;6.6.1 检查更新&quot;">​</a></h3><ul><li>查看系统中<code>安装</code>的软件包<code>是否</code>有<code>可用更新</code>：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> check-update</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>温馨提示ℹ️： 也可以使用 <code>dnf check-upgrade</code> ，因为 <code>check-upgrade</code> 是 <code>check-update</code> 的别名。</p></blockquote><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> check-update</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/106.Dr9K8oOs.gif" alt=""></p><h3 id="_6-6-2-更新软件包" tabindex="-1">6.6.2 更新软件包 <a class="header-anchor" href="#_6-6-2-更新软件包" aria-label="Permalink to &quot;6.6.2 更新软件包&quot;">​</a></h3><ul><li>更新<code>单个</code>软件包：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> package-name</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>温馨提示ℹ️： 在 yum 中，我们会使用 <code>dnf update package-name -y</code> 来更新软件包；但是，在 dnf 中 update 被标记为 upgrade 过时的别名。</p></blockquote><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python3</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/107.HNTwN3Tc.gif" alt=""></p><ul><li>更新<code>所有</code>的软件包：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upgrade</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>温馨提示ℹ️：</p><ul><li>① 在 yum 中，我们会使用 <code>dnf update -y</code> 来更新软件包；但是，在 dnf 中 update 被标记为 upgrade 过时的别名。</li><li>② 当有内核应用更新的时候，<code>dnf -y update</code> 或 <code>dnf -y upgrade</code> 总是会安装一个新的内核，除非你手动排除内核的更新，看下文 <code>dnf 插件</code>部分。</li></ul></blockquote><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upgrade</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/108.CGf0GDbv.gif" alt=""></p><ul><li>更新软件包组：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> group</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> group-name</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> group</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;System Tools&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/109.BPDDsJOJ.gif" alt=""></p><h3 id="_6-6-3-更新和安全相关的软件包" tabindex="-1">6.6.3 更新和安全相关的软件包 <a class="header-anchor" href="#_6-6-3-更新和安全相关的软件包" aria-label="Permalink to &quot;6.6.3 更新和安全相关的软件包&quot;">​</a></h3><ul><li>更新有<code>安全勘误</code>的<code>最新</code>可用软件包：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upgrade</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --security</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upgrade</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --security</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/110.SHOa6oI6.gif" alt=""></p><ul><li>升级到<code>最后</code>一个<code>安全勘误</code>软件包：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upgrade-minimal</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --security</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upgrade-minimal</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --security</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/111.CnjNlc9o.gif" alt=""></p><h2 id="_6-7-dnf-软件自动化更新" tabindex="-1">6.7 dnf 软件自动化更新 <a class="header-anchor" href="#_6-7-dnf-软件自动化更新" aria-label="Permalink to &quot;6.7 dnf 软件自动化更新&quot;">​</a></h2><h3 id="_6-7-1-安装-dnf-automatic-工具" tabindex="-1">6.7.1 安装 dnf automatic 工具 <a class="header-anchor" href="#_6-7-1-安装-dnf-automatic-工具" aria-label="Permalink to &quot;6.7.1 安装 dnf automatic 工具&quot;">​</a></h3><ul><li>安装 <code>dnf-automatic</code> 软件包：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dnf-automatic</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>温馨提示ℹ️：</p><ul><li>① dnf-automatic 软件包，在默认情况下，使用 <code>/etc/dnf/automatic.conf</code> 作为其配置文件来定义其行为。</li><li>② 在实际工作中，生产环境慎用该功能，防止升级的挂掉环境！！！</li></ul></blockquote><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dnf-automatic</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/112.BvFgWJGe.gif" alt=""></p><h3 id="_6-7-2-启动-dnf-automatic-工具" tabindex="-1">6.7.2 启动 dnf automatic 工具 <a class="header-anchor" href="#_6-7-2-启动-dnf-automatic-工具" aria-label="Permalink to &quot;6.7.2 启动 dnf automatic 工具&quot;">​</a></h3><ul><li>选择、启用并启动一个 systemd 计时器单元，该单元<code>下载</code>并<code>安装</code>、<code>更新</code>软件包：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --now</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dnf-automatic-install.timer</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>温馨提示ℹ️：</p><ul><li>① <code>dnf-automatic-download.timer</code> 会<code>下载软件包以便进行更新</code>，除非手动执行 dnf -y upgrade 命令才会更新软件包。</li><li>② <code>dnf-automatic-install.timer</code>会<code>下载并安装、更新软件包</code>。</li><li>③ <code>dnf-automatic-notifyonly.timer</code>只会<code>下载存储库数据，以保持存储库缓存最新状态，并通知是否有可用的更新</code>。</li><li>④ <code>dnf-automatic.timer</code>，此计时器在下载和应用更新时的行为是由 <code>/etc/dnf/automatic.conf</code> 配置文件中的设置指定；默认行为与 <code>dnf-automatic-download.timer</code> 单元相同：它会下载软件包，但不安装它们。、</li><li>⑤ 可以通过 <code>systemctl show dnf-automatic-install.timer</code> 来查看详细的配置和预订的运行时间；默认情况下，会在每天的凌晨执行软件包的下载、安装和更新操作。</li></ul></blockquote><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --now</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dnf-automatic-install.timer</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/113.BwoUDNIu.gif" alt=""></p><h2 id="_6-8-dnf-删除" tabindex="-1">6.8 dnf 删除 <a class="header-anchor" href="#_6-8-dnf-删除" aria-label="Permalink to &quot;6.8 dnf 删除&quot;">​</a></h2><h3 id="_6-8-1-删除安装的软件包" tabindex="-1">6.8.1 删除安装的软件包 <a class="header-anchor" href="#_6-8-1-删除安装的软件包" aria-label="Permalink to &quot;6.8.1 删除安装的软件包&quot;">​</a></h3><ul><li>要删除<code>某个</code>软件包以及所有<code>未使用</code>的依赖软件包：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remove</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> package-name</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remove</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nodejs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/114.DR8Rg5e7.gif" alt=""></p><ul><li><code>同时</code>删除<code>多个</code>软件包及其<code>未使用</code>的依赖项：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remove</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> package-name-1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> package-name-2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ...</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remove</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nodejs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nginx</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/115.CLFqdNmH.gif" alt=""></p><h3 id="_6-8-2-删除软件包组" tabindex="-1">6.8.2 删除软件包组 <a class="header-anchor" href="#_6-8-2-删除软件包组" aria-label="Permalink to &quot;6.8.2 删除软件包组&quot;">​</a></h3><ul><li>根据<code>软件包组的名称</code>删除<code>软件包组</code>：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> group</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remove</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> group-name</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> group</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remove</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;System Tools&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/116.BztOA-wG.gif" alt=""></p><h3 id="_6-8-3-删除安装的模块化内容" tabindex="-1">6.8.3 删除安装的模块化内容 <a class="header-anchor" href="#_6-8-3-删除安装的模块化内容" aria-label="Permalink to &quot;6.8.3 删除安装的模块化内容&quot;">​</a></h3><ul><li>删除安装的<code>模块化</code>内容：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remove</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NAME</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remove</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NAME:STREAM</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remove</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NAME/PROFILE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remove</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NAME:STREAM/PROFILE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>温馨提示ℹ️：可以通过 <code>dnf module reset module-name -y</code> 来重置模块化内容的状态，变为初始化状态。</p></blockquote><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remove</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nodejs:18</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/117.2sprNnUN.gif" alt=""></p><h2 id="_6-9-软件包的历史记录" tabindex="-1">6.9 软件包的历史记录 <a class="header-anchor" href="#_6-9-软件包的历史记录" aria-label="Permalink to &quot;6.9 软件包的历史记录&quot;">​</a></h2><h3 id="_6-9-1-概述" tabindex="-1">6.9.1 概述 <a class="header-anchor" href="#_6-9-1-概述" aria-label="Permalink to &quot;6.9.1 概述&quot;">​</a></h3><ul><li>Redo（重做） 和 Undo（撤销） 是在计算机程序和应用程序中经常使用的两个功能，用于处理用户操作的不同方式。它们通常用于编辑文档、图像或其他数据的过程中。</li><li>Undo（撤销）： <ul><li>意义：Undo 是指撤销先前的操作，将系统恢复到之前的状态。当用户进行了一个操作后发现这个操作不正确或者不想要时，可以通过执行撤销操作将系统还原到执行该操作之前的状态。</li><li>功能：Undo 功能允许用户回退到之前的操作，通常是通过快捷键（如：<code>Ctrl+Z</code>）或菜单选项来触发。这个功能对于纠正错误操作或者试验性质的操作非常有用。</li></ul></li><li>Redo（重做）： <ul><li>意义：Redo 是指重新执行之前被撤销的操作，将系统恢复到撤销操作之后的状态。当用户撤销了一个操作后，如果后悔或者需要重新执行该操作，可以通过重做来再次应用该操作。</li><li>功能：Redo 功能允许用户对已经撤销的操作进行重做，通常也是通过快捷键（如：<code>Ctrl+Y</code>）或菜单选项来触发。这个功能对于反悔之前的撤销操作或者回到之前状态的需要非常有用。</li></ul></li></ul><blockquote><p>总结：Undo 是撤销先前的操作，而 Redo 是重新执行已经被撤销的操作，两者结合起来可以提供更好的用户体验，使用户能够更自由地控制其操作历史。</p></blockquote><h3 id="_6-9-2-列出事务" tabindex="-1">6.9.2 列出事务 <a class="header-anchor" href="#_6-9-2-列出事务" aria-label="Permalink to &quot;6.9.2 列出事务&quot;">​</a></h3><ul><li>显示所有<code>最新</code>的 dnf <code>事务列表</code>：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> history</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> history</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/118.BJrImLie.gif" alt=""></p><ul><li>显示<code>所选</code>软件包的<code>最新</code>操作列表：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> history</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> package-name</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> history</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nodejs</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/119.CPxiP8jD.gif" alt=""></p><ul><li>显示<code>特定事务</code>的<code>详情</code>：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> history</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> info</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> transactionID</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> history</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> info</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 11</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/120.DsAh78qW.gif" alt=""></p><h3 id="_6-9-3-恢复单个事务" tabindex="-1">6.9.3 恢复单个事务 <a class="header-anchor" href="#_6-9-3-恢复单个事务" aria-label="Permalink to &quot;6.9.3 恢复单个事务&quot;">​</a></h3><ul><li>恢复<code>单个</code>事务：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> history</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> undo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> transaction_id</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>温馨提示ℹ️：</p><ul><li>① 请谨慎使用 <code>dnf history undo</code> 和 <code>dnf history rollback</code> 命令。不支持将 RHEL 软件包，特别是<code>selinux</code>, <code>selinux-policy-*</code>, <code>kernel</code>, <code>glibc</code> (<code>glibc</code> 的依赖项，如 <code>gcc</code>) 软件包，降级到旧版本。</li><li>② 因此，不建议将系统降级为次版本（例如，从 RHEL 9.1 到 RHEL 9.0），因为这可能会使系统处于不稳定状态。</li></ul></blockquote><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> history</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> undo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/121.Q0uoKcFe.gif" alt=""></p><h3 id="_6-9-4-恢复多个事务" tabindex="-1">6.9.4 恢复多个事务 <a class="header-anchor" href="#_6-9-4-恢复多个事务" aria-label="Permalink to &quot;6.9.4 恢复多个事务&quot;">​</a></h3><ul><li>恢复<code>多个</code>事务：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> history</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rollback</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> transaction_id</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>温馨提示ℹ️：在指定事务和最后一个事务之间进行恢复。</p></blockquote><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> history</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rollback</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/122.Dz0Qymqg.gif" alt=""></p><h3 id="_6-9-5-重做事务" tabindex="-1">6.9.5 重做事务 <a class="header-anchor" href="#_6-9-5-重做事务" aria-label="Permalink to &quot;6.9.5 重做事务&quot;">​</a></h3><ul><li>重做到<code>指定</code>的事务：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> history</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> redo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> transactionID</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>温馨提示ℹ️：如果要重做到最后的事务，可以使用 <code>dnf history redo last -y</code> 。</p></blockquote><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> history</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> redo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/123.Bh_j-GzS.gif" alt=""></p><h2 id="_6-10-管理自定义软件仓库" tabindex="-1">6.10 管理自定义软件仓库 <a class="header-anchor" href="#_6-10-管理自定义软件仓库" aria-label="Permalink to &quot;6.10 管理自定义软件仓库&quot;">​</a></h2><h3 id="_6-10-1-添加-dnf-软件仓库" tabindex="-1">6.10.1 添加 dnf 软件仓库 <a class="header-anchor" href="#_6-10-1-添加-dnf-软件仓库" aria-label="Permalink to &quot;6.10.1 添加 dnf 软件仓库&quot;">​</a></h3><ul><li>添加 dnf 软件仓库：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config-manager</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --add-repo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xxx</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config-manager</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --add-repo=https://download.docker.com/linux/centos/docker-ce.repo</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/124.nAcjrBFH.gif" alt=""></p><h3 id="_6-10-2-禁用-dnf-软件仓库" tabindex="-1">6.10.2 禁用 dnf 软件仓库 <a class="header-anchor" href="#_6-10-2-禁用-dnf-软件仓库" aria-label="Permalink to &quot;6.10.2 禁用 dnf 软件仓库&quot;">​</a></h3><ul><li>禁用 dnf 软件仓库：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config-manager</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --disable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> repositoryID</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config-manager</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --disable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker-ce</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/125.C_Pi7X3W.gif" alt=""></p><h3 id="_6-10-3-启用-dnf-软件仓库" tabindex="-1">6.10.3 启用 dnf 软件仓库 <a class="header-anchor" href="#_6-10-3-启用-dnf-软件仓库" aria-label="Permalink to &quot;6.10.3 启用 dnf 软件仓库&quot;">​</a></h3><ul><li>启用 dnf 软件仓库：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config-manager</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --enable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> repositoryID</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config-manager</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --enable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker-ce</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/126.DIeMtBTk.gif" alt=""></p><h2 id="_6-11-插件" tabindex="-1">6.11 插件 <a class="header-anchor" href="#_6-11-插件" aria-label="Permalink to &quot;6.11 插件&quot;">​</a></h2><h3 id="_6-11-1-概述" tabindex="-1">6.11.1 概述 <a class="header-anchor" href="#_6-11-1-概述" aria-label="Permalink to &quot;6.11.1 概述&quot;">​</a></h3><ul><li>dnf 其实依赖于很多插件，来完成工作，之前的 <code>dnf config-manager</code> 命令就是 dnf 的插件提供的，可以通过如下的命令来查看 dnf 的插件：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --installed</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> plugin</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/127.C8J5ZVLZ.gif" alt=""></p><ul><li>但是，<code>锁定版本</code>的<code>插件</code>并<code>没有默认安装</code>，请看下面的讲解。</li></ul><h3 id="_6-11-2-锁定版本" tabindex="-1">6.11.2 锁定版本 <a class="header-anchor" href="#_6-11-2-锁定版本" aria-label="Permalink to &quot;6.11.2 锁定版本&quot;">​</a></h3><h4 id="_6-11-2-1-概述" tabindex="-1">6.11.2.1 概述 <a class="header-anchor" href="#_6-11-2-1-概述" aria-label="Permalink to &quot;6.11.2.1 概述&quot;">​</a></h4><ul><li>在生产环境中，我们有时会将软件包进行锁定，防止升级到更高的版本，避免出现一些问题。</li></ul><blockquote><p>温馨提示ℹ️：滴滴之前出现过生产事故，就是运维通过 <code>dnf -y update</code> 命令进行整个 Linux 系统的软件包升级，包括： Linux 内核，导致生产环境的 kubernetes 在升级过程中挂掉，进而导致滴滴打车服务的不可用，影响非常恶劣！！！</p></blockquote><ul><li><code>yum-versionlock</code> 是一个 Yum 插件，它采用一组软件包的名称/版本，并排除这些软件包的所有其他版本（包括可选的以下过时版本）。这允许您保护软件包不被新版本更新。该插件提供了一个命令 <code>“versionlock”</code> ，它允许您轻松查看和编辑锁定的软件包列表。</li></ul><h4 id="_6-11-2-2-安装" tabindex="-1">6.11.2.2 安装 <a class="header-anchor" href="#_6-11-2-2-安装" aria-label="Permalink to &quot;6.11.2.2 安装&quot;">​</a></h4><ul><li>在 AlmaLinux9 上安装 yum-versionlock 插件：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python3-dnf-plugin-versionlock</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/128.Bg83Bcxk.gif" alt=""></p><blockquote><p>注意⚠️：该插件是通过在 Linux 系统中创建 <code>/etc/yum/pluginconf.d/versionlock.list</code> 文件，当执行 <code>yum -y update</code> 的时候，会去该文件中查找，如果有对应的软件包信息，则不更新；否则，将更新到最新的版本。</p></blockquote><h4 id="_6-11-2-3-锁定软件包" tabindex="-1">6.11.2.3 锁定软件包 <a class="header-anchor" href="#_6-11-2-3-锁定软件包" aria-label="Permalink to &quot;6.11.2.3 锁定软件包&quot;">​</a></h4><ul><li>命令：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> versionlock</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [add] 软件包1 软件包2 ...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>注意⚠️：add 可以加，也可以不加，默认就是 add 。</p></blockquote><ul><li>示例：显示当前系统的内核</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --installed</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kernel</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/129.wlGdMAID.gif" alt=""></p><ul><li>示例：显示当前系统的信息（包括 kernel）</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 需要提前安装 dnf -y install neofecth</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">neofetch</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="/linux/assets/130.DuxTqCPk.gif" alt=""></p><ul><li>示例：查询内核的所有版本，并降序排序</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --showduplicates</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kernel</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sort</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/131.DVN40-gg.gif" alt=""></p><ul><li>示例：锁定内核</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> versionlock</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kernel</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/132.DA3599S0.gif" alt=""></p><ul><li>示例：锁定 gcc</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> versionlock</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gcc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/133.CDmlvwXC.gif" alt=""></p><h4 id="_6-11-2-4-查看锁定的软件包的列表" tabindex="-1">6.11.2.4 查看锁定的软件包的列表 <a class="header-anchor" href="#_6-11-2-4-查看锁定的软件包的列表" aria-label="Permalink to &quot;6.11.2.4 查看锁定的软件包的列表&quot;">​</a></h4><ul><li>命令：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> versionlock</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [list]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>注意⚠️：list 可以加，也可以不加，默认就是 list 。</p></blockquote><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> versionlock</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/134.C6vChiXw.gif" alt=""></p><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> versionlock</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/135.BJrKzjxN.gif" alt=""></p><h4 id="_6-11-2-5-取消指定软件包的锁定" tabindex="-1">6.11.2.5 取消指定软件包的锁定 <a class="header-anchor" href="#_6-11-2-5-取消指定软件包的锁定" aria-label="Permalink to &quot;6.11.2.5 取消指定软件包的锁定&quot;">​</a></h4><ul><li>命令：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> versionlock</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> delete</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 软件包</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：取消 gcc 包的锁定</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> versionlock</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> delete</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gcc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/136.D3JdMV7h.gif" alt=""></p><h4 id="_6-11-2-6-取消所有软件包的锁定" tabindex="-1">6.11.2.6 取消所有软件包的锁定 <a class="header-anchor" href="#_6-11-2-6-取消所有软件包的锁定" aria-label="Permalink to &quot;6.11.2.6 取消所有软件包的锁定&quot;">​</a></h4><ul><li>命令：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> versionlock</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clear</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> versionlock</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clear</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/137.DipTrPah.gif" alt=""></p></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-09de1c0f><!--[--><!--]--><div class="edit-info" data-v-09de1c0f><!----><div class="last-updated" data-v-09de1c0f><p class="VPLastUpdated" data-v-09de1c0f data-v-7e05ebdb>上次更新: <time datetime="2024-04-12T04:09:55.000Z" data-v-7e05ebdb></time></p></div></div><nav class="prev-next" data-v-09de1c0f><div class="pager" data-v-09de1c0f><a class="VPLink link pager-link prev" href="/linux/notes/01_linux_basic/11_xdx/" data-v-09de1c0f><!--[--><span class="desc" data-v-09de1c0f>上一篇</span><span class="title" data-v-09de1c0f>Linux 之快速安装 Ubuntu</span><!--]--></a></div><div class="pager" data-v-09de1c0f><a class="VPLink link pager-link next" href="/linux/notes/01_linux_basic/13_xdx/" data-v-09de1c0f><!--[--><span class="desc" data-v-09de1c0f>下一篇</span><span class="title" data-v-09de1c0f>Linux 进程管理</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><p class="message" data-v-e315a0ad>Released under the MIT License.</p><p class="copyright" data-v-e315a0ad>Copyright © 2024 许大仙</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"index.md\":\"oo2ViS6p\",\"notes_01_linux_basic_01_xdx_index.md\":\"CpyEE_TW\",\"notes_01_linux_basic_05_xdx_index.md\":\"B4hms2a0\",\"notes_index.md\":\"fUVyxOuC\",\"notes_01_linux_basic_03_xdx_index.md\":\"CqxbGGOj\",\"notes_01_linux_basic_00_xdx_index.md\":\"2zbasUSk\",\"notes_01_linux_basic_12_xdx_index.md\":\"BajIaqs3\",\"notes_01_linux_basic_13_xdx_index.md\":\"D-GlvNaO\",\"notes_01_linux_basic_02_xdx_index.md\":\"ocXky6CI\",\"notes_01_linux_basic_04_xdx_index.md\":\"vB2Omo51\",\"notes_01_linux_basic_14_xdx_index.md\":\"BvcaC3vb\",\"notes_01_linux_basic_07_xdx_index.md\":\"B4GOAEVI\",\"notes_01_linux_basic_06_xdx_index.md\":\"Dkk6DkMD\",\"notes_01_linux_basic_11_xdx_index.md\":\"DVqaKKnJ\",\"notes_01_linux_basic_10_xdx_index.md\":\"DwkHRHIC\",\"notes_01_linux_basic_08_xdx_index.md\":\"NSUKhhaK\",\"notes_01_linux_basic_09_xdx_index.md\":\"Deak2uD2\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"许大仙\",\"titleTemplate\":\"Hi，终于等到你\",\"description\":\"许大仙前端、Java、大数据、云原生\",\"base\":\"/linux/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"lastUpdatedText\":\"上次更新\",\"returnToTopLabel\":\"返回顶部\",\"search\":{\"provider\":\"local\"},\"logo\":\"/logo.svg\",\"nav\":[{\"text\":\"首页\",\"link\":\"https://aexiar.github.io/\"},{\"text\":\"计组4件套\",\"link\":\"https://aexiar.github.io/coa4/notes/\"},{\"text\":\"前端\",\"link\":\"https://aexiar.github.io/web-design/notes/\"},{\"text\":\"Java\",\"link\":\"https://aexiar.github.io/java/notes/\"},{\"text\":\"大数据\",\"link\":\"https://aexiar.github.io/big-data/notes/\"},{\"text\":\"云原生\",\"link\":\"/notes/\"},{\"text\":\"开源软件\",\"link\":\"https://aexiar.github.io/open-software/notes/\"}],\"sidebar\":{\"/notes/\":[{\"text\":\"Linux基础\",\"collapsed\":true,\"items\":[{\"text\":\"计算机硬件与组成原理基础\",\"link\":\"/notes/01_linux_basic/00_xdx/\"},{\"text\":\"Linux 初识和安装\",\"link\":\"/notes/01_linux_basic/01_xdx/\"},{\"text\":\"Linux 基础和入门\",\"link\":\"/notes/01_linux_basic/02_xdx/\"},{\"text\":\"Linux 核心目录和必会命令\",\"link\":\"/notes/01_linux_basic/03_xdx/\"},{\"text\":\"Linux 目录进阶（一）\",\"link\":\"/notes/01_linux_basic/04_xdx/\"},{\"text\":\"Linux 目录进阶（二）\",\"link\":\"/notes/01_linux_basic/05_xdx/\"},{\"text\":\"Linux 文件管理体系\",\"link\":\"/notes/01_linux_basic/06_xdx/\"},{\"text\":\"Linux 标准输入输出和管道\",\"link\":\"/notes/01_linux_basic/07_xdx/\"},{\"text\":\"Linux 四剑客（一）\",\"link\":\"/notes/01_linux_basic/08_xdx/\"},{\"text\":\"Linux 用户管理体系\",\"link\":\"/notes/01_linux_basic/09_xdx/\"},{\"text\":\"Linux 权限管理体系\",\"link\":\"/notes/01_linux_basic/10_xdx/\"},{\"text\":\"Linux 之快速安装 Ubuntu\",\"link\":\"/notes/01_linux_basic/11_xdx/\"},{\"text\":\"Linux 软件包管理\",\"link\":\"/notes/01_linux_basic/12_xdx/\"},{\"text\":\"Linux 进程管理\",\"link\":\"/notes/01_linux_basic/13_xdx/\"},{\"text\":\"Linux 服务管理\",\"link\":\"/notes/01_linux_basic/14_xdx/\"},{\"text\":\"Linux 磁盘管理\",\"link\":\"/notes/01_linux_basic/15_xdx/\"},{\"text\":\"Linux 正则表达式\",\"link\":\"/notes/01_linux_basic/16_xdx/\"},{\"text\":\"Linux 四剑客（二）\",\"link\":\"/notes/01_linux_basic/17_xdx/\"},{\"text\":\"Linux 定时任务\",\"link\":\"/notes/01_linux_basic/18_xdx/\"},{\"text\":\"计算机网络基础\",\"link\":\"/notes/01_linux_basic/19_xdx/\"},{\"text\":\"Linux 网络管理\",\"link\":\"/notes/01_linux_basic/20_xdx/\"}]},{\"text\":\"Linux集群\",\"collapsed\":true,\"items\":[]},{\"text\":\"Linux自动化\",\"collapsed\":true,\"items\":[]},{\"text\":\"Linux日志收集\",\"collapsed\":true,\"items\":[]},{\"text\":\"云原生生态\",\"collapsed\":true,\"items\":[]},{\"text\":\"虚拟化和云计算\",\"collapsed\":true,\"items\":[]},{\"text\":\"容器管理工具Docker\",\"collapsed\":true,\"items\":[]},{\"text\":\"容器管理工具Containerd\",\"collapsed\":true,\"items\":[]},{\"text\":\"Kubernetes\",\"collapsed\":true,\"items\":[]},{\"text\":\"数据库\",\"collapsed\":true,\"items\":[]},{\"text\":\"微服务治理和服务网格\",\"collapsed\":true,\"items\":[]},{\"text\":\"下一代云计算技术Serverless\",\"collapsed\":true,\"items\":[]},{\"text\":\"基于Kubernetes构建大数据库生态圈\",\"collapsed\":true,\"items\":[]},{\"text\":\"其它\",\"collapsed\":true,\"items\":[]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/Aurorxa\"}],\"docFooter\":{\"prev\":\"上一篇\",\"next\":\"下一篇\"},\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright © 2024 许大仙\"},\"outline\":{\"level\":[1,6],\"label\":\"目录\"},\"outlineTitle\":\"当前页大纲\"},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>