<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    
    <title>第一章：问题剖析 | Hi，终于等到你</title>
    <meta name="description" content="许大仙前端、Java、大数据、云原生">
    <meta name="generator" content="VitePress v1.2.3">
    <link rel="preload stylesheet" href="/linux/assets/style.DIOEjqQS.css" as="style">
    
    <script type="module" src="/linux/assets/app.Cgud0tmj.js"></script>
    <link rel="preload" href="/linux/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/linux/assets/chunks/framework.BSof0eVz.js">
    <link rel="modulepreload" href="/linux/assets/chunks/theme.CT9mJUAf.js">
    <link rel="modulepreload" href="/linux/assets/notes_01_linux_basic_19_xdx_index.md.DgHUTLhu.lean.js">
    <link rel="shortcut icon" href="/linux//favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no,shrink-to-fit=no">
    <meta name="keywords" content="许大仙,许大仙的博客">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar has-sidebar top" data-v-ae24b3ad data-v-ccf7ddec><div class="wrapper" data-v-ccf7ddec><div class="container" data-v-ccf7ddec><div class="title" data-v-ccf7ddec><div class="VPNavBarTitle has-sidebar" data-v-ccf7ddec data-v-ab179fa1><a class="title" href="/linux/" data-v-ab179fa1><!--[--><!--]--><!--[--><img class="VPImage logo" src="/linux/logo.svg" alt data-v-8426fc1a><!--]--><span data-v-ab179fa1>许大仙</span><!--[--><!--]--></a></div></div><div class="content" data-v-ccf7ddec><div class="content-body" data-v-ccf7ddec><!--[--><!--]--><div class="VPNavBarSearch search" data-v-ccf7ddec><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-ccf7ddec data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://aexiar.github.io/" target="_blank" rel="noreferrer" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>首页</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://aexiar.github.io/coa4/notes/" target="_blank" rel="noreferrer" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>计组4件套</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://aexiar.github.io/web-design/notes/" target="_blank" rel="noreferrer" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>前端</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://aexiar.github.io/java/notes/" target="_blank" rel="noreferrer" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>Java</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://aexiar.github.io/big-data/notes/" target="_blank" rel="noreferrer" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>大数据</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/linux/notes/" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>云原生</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://aexiar.github.io/open-software/notes/" target="_blank" rel="noreferrer" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>开源软件</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-ccf7ddec data-v-e6aabb21><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-e6aabb21 data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-ccf7ddec data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Aurorxa" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-ccf7ddec data-v-d0bd9dde data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-b6c34ac9><span class="vpi-more-horizontal icon" data-v-b6c34ac9></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-d0bd9dde><div class="item appearance" data-v-d0bd9dde><p class="label" data-v-d0bd9dde>Appearance</p><div class="appearance-action" data-v-d0bd9dde><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-d0bd9dde data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div></div></div><div class="group" data-v-d0bd9dde><div class="item social-links" data-v-d0bd9dde><div class="VPSocialLinks social-links-list" data-v-d0bd9dde data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Aurorxa" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-ccf7ddec data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-ccf7ddec><div class="divider-line" data-v-ccf7ddec></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-17a5e62e><button data-v-17a5e62e>返回顶部</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-575e6a36><div class="curtain" data-v-575e6a36></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-575e6a36><span class="visually-hidden" id="sidebar-aria-label" data-v-575e6a36> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0 collapsible has-active" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h2 class="text" data-v-b8d55f3b>Linux基础</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b8d55f3b><span class="vpi-chevron-right caret-icon" data-v-b8d55f3b></span></div></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/00_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>计算机硬件与组成原理基础</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/01_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 初识和安装</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/02_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 基础和入门</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/03_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 核心目录和必会命令</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/04_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 目录进阶（一）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/05_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 目录进阶（二）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/06_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 文件管理体系</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/07_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 标准 IO、重定向和管道</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/08_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>文本编辑器之神 VIM</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/09_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 四剑客（一）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/10_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>正则表达式</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/11_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>SHELL 脚本编程（一）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/12_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 用户管理体系</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/13_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 权限管理体系</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/14_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 之快速安装 Ubuntu</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/15_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 软件包管理（一）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/16_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 软件包管理（二）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/17_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 四剑客（二）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/18_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 磁盘存储和文件系统管理（一）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/19_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 磁盘存储和文件系统管理（二）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/20_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>计算机网络基础</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/21_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 网络管理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/22_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>SHELL 脚本编程（二）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/23_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 进程管理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/24_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 定时任务管理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/25_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>Linux 启动和内核管理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/26_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>加密和安全</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/27_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>运维自动化之系统部署</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/linux/notes/01_linux_basic/28_xdx/" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>域名系统 DNS 服务</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-575e6a36><div class="VPSidebarItem level-0 collapsible collapsed" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><p class="text" data-v-b8d55f3b>Linux集群</p><!----></div><!----></div></div><div class="group" data-v-575e6a36><div class="VPSidebarItem level-0 collapsible collapsed" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><p class="text" data-v-b8d55f3b>Linux自动化</p><!----></div><!----></div></div><div class="group" data-v-575e6a36><div class="VPSidebarItem level-0 collapsible collapsed" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><p class="text" data-v-b8d55f3b>Linux日志收集</p><!----></div><!----></div></div><div class="group" data-v-575e6a36><div class="VPSidebarItem level-0 collapsible collapsed" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><p class="text" data-v-b8d55f3b>云原生生态</p><!----></div><!----></div></div><div class="group" data-v-575e6a36><div class="VPSidebarItem level-0 collapsible collapsed" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><p class="text" data-v-b8d55f3b>虚拟化和云计算</p><!----></div><!----></div></div><div class="group" data-v-575e6a36><div class="VPSidebarItem level-0 collapsible collapsed" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><p class="text" data-v-b8d55f3b>容器管理工具Docker</p><!----></div><!----></div></div><div class="group" data-v-575e6a36><div class="VPSidebarItem level-0 collapsible collapsed" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><p class="text" data-v-b8d55f3b>容器管理工具Containerd</p><!----></div><!----></div></div><div class="group" data-v-575e6a36><div class="VPSidebarItem level-0 collapsible collapsed" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><p class="text" data-v-b8d55f3b>Kubernetes</p><!----></div><!----></div></div><div class="group" data-v-575e6a36><div class="VPSidebarItem level-0 collapsible collapsed" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><p class="text" data-v-b8d55f3b>数据库</p><!----></div><!----></div></div><div class="group" data-v-575e6a36><div class="VPSidebarItem level-0 collapsible collapsed" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><p class="text" data-v-b8d55f3b>微服务治理和服务网格</p><!----></div><!----></div></div><div class="group" data-v-575e6a36><div class="VPSidebarItem level-0 collapsible collapsed" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><p class="text" data-v-b8d55f3b>下一代云计算技术Serverless</p><!----></div><!----></div></div><div class="group" data-v-575e6a36><div class="VPSidebarItem level-0 collapsible collapsed" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><p class="text" data-v-b8d55f3b>基于Kubernetes构建大数据库生态圈</p><!----></div><!----></div></div><div class="group" data-v-575e6a36><div class="VPSidebarItem level-0 collapsible collapsed" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><p class="text" data-v-b8d55f3b>其它</p><!----></div><!----></div></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>目录</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _linux_notes_01_linux_basic_19_xdx_" data-v-39a288b8><div><h1 id="第一章-问题剖析" tabindex="-1">第一章：问题剖析 <a class="header-anchor" href="#第一章-问题剖析" aria-label="Permalink to &quot;第一章：问题剖析&quot;">​</a></h1><ul><li>之前，我们都是通过<code>单块硬盘来创建分区</code>的，但是这种方式却有如下的问题： <ul><li>① <strong>空间浪费和灵活性不足</strong>： <ul><li>空间浪费：如果在分区时没有准确估计各分区的需求，可能会导致某些分区空间不足，而其他分区却有大量剩余空间未被利用，造成浪费。</li><li>灵活性不足：分区一旦创建，要调整分区大小和重新分配空间会比较麻烦，特别是当硬盘上已有重要数据时，调整分区大小可能需要借助第三方软件，且操作不当可能会导致数据丢失。</li></ul></li><li>② <strong>性能和管理复杂度</strong>： <ul><li>性能问题：虽然分区本身不会显著影响硬盘的性能，但某些情况下，不同分区间的文件操作会增加磁盘寻道时间，影响整体性能。例如，在一个分区上进行大量读写操作时，可能会影响到其他分区的读写速度。</li><li>管理复杂度：多个分区需要独立管理，包括挂载点的配置、备份策略的制定等。特别是在操作系统和应用程序对分区有特定需求的情况下，管理多个分区可能会增加系统管理员的工作量和复杂性。</li></ul></li></ul></li></ul><blockquote><p>总结：</p><ul><li>① 空间不够了，怎么扩展？</li><li>② 分区必须是在一块硬盘上，而且是连续的空间中（不可以跨硬盘），如果分区损坏，则分区上的数据将会丢失，怎么办？</li></ul></blockquote><h1 id="第二章-raid" tabindex="-1">第二章：RAID <a class="header-anchor" href="#第二章-raid" aria-label="Permalink to &quot;第二章：RAID&quot;">​</a></h1><h2 id="_2-1-概述" tabindex="-1">2.1 概述 <a class="header-anchor" href="#_2-1-概述" aria-label="Permalink to &quot;2.1 概述&quot;">​</a></h2><ul><li><p>RAID（Redundant Array of Independent Disks，独立磁盘冗余阵列）是一种将多个硬盘组合成一个逻辑单元，以提高数据存储性能和可靠性的技术。</p></li><li><p>RAID 功能实现：</p><ul><li>提高 IO 能力。</li><li>磁盘并行读写 ，提高耐用性 ，磁盘冗余算法来实现。</li></ul></li><li><p>RAID 实现的方式：</p><ul><li>外接式磁盘阵列：通过扩展卡提供适配能力。</li><li>内接式 RAID：主板集成 RAID 控制器，安装 OS 前在 BIOS 里配置。</li><li>软件 RAID：通过 OS 实现，比如：群晖的 NAS 。</li></ul></li></ul><blockquote><p>注意⚠️：</p><ul><li>① 其实，RAID 解决了 <code>分区必须是在一块硬盘上，而且是连续的空间中（不可以跨硬盘），如果分区损坏，则分区上的数据将会丢失</code>的问题。</li><li>② 在实际工作中，服务器通常都自带了 RAID 卡，在安装操作系统之前，必须进行 RAID 。</li><li>③ 在实际工作中，只需要了解各个 RAID 级别的含义即可。</li></ul></blockquote><h2 id="_2-2-主流的-raid-级别" tabindex="-1">2.2 主流的 RAID 级别 <a class="header-anchor" href="#_2-2-主流的-raid-级别" aria-label="Permalink to &quot;2.2 主流的 RAID 级别&quot;">​</a></h2><h3 id="_2-2-1-概述" tabindex="-1">2.2.1 概述 <a class="header-anchor" href="#_2-2-1-概述" aria-label="Permalink to &quot;2.2.1 概述&quot;">​</a></h3><ul><li>主流的 RAID 级别分别是 RAID-0、RAID-1、RAID-5、RAID-6、RAID-10。</li></ul><h3 id="_2-2-2-raid-0-条带化-⭐" tabindex="-1">2.2.2 RAID-0（条带化，⭐） <a class="header-anchor" href="#_2-2-2-raid-0-条带化-⭐" aria-label="Permalink to &quot;2.2.2 RAID-0（条带化，⭐）&quot;">​</a></h3><ul><li>RAID-0 对应的动画，如下所示：</li></ul><p><img src="/linux/assets/1.Cu8gLhhM.gif" alt="img"></p><ul><li>RAID-0 对应的动画，如下所示：</li></ul><p><img src="/linux/assets/2.DGQ3sul1.gif" alt=""></p><ul><li><strong>特点</strong>：将数据分散到多个磁盘上，数据读写速度加快，但没有冗余保护，即读写性能提升。</li><li><strong>可用空间</strong>：<code>N* min(S1,S2...)</code>，最少磁盘数为 2，2+。</li><li><strong>优点</strong>：高性能，适用于对速度要求高的应用。</li><li><strong>缺点</strong>：没有数据冗余，任何一个磁盘的故障都会导致数据丢失。</li><li><strong>使用场景</strong>：视频编辑、大型数据库、需要高吞吐量的环境。</li></ul><h3 id="_2-2-3-raid-1-镜像-⭐" tabindex="-1">2.2.3 RAID-1（镜像，⭐） <a class="header-anchor" href="#_2-2-3-raid-1-镜像-⭐" aria-label="Permalink to &quot;2.2.3 RAID-1（镜像，⭐）&quot;">​</a></h3><ul><li>RAID-1 对应的动画，如下所示：</li></ul><p><img src="/linux/assets/3.Bk7GOFM3.gif" alt="img"></p><ul><li>RAID-1 对应的动画，如下所示：</li></ul><p><img src="/linux/assets/4.kNylHBu3.gif" alt=""></p><ul><li><strong>特点</strong>：将相同的数据写入到两个或多个磁盘上。</li><li><strong>可用空间</strong>：<code>N/2 * min(S1,S2...)</code>，最少磁盘数为 2，2N。</li><li><strong>优点</strong>：提供数据冗余，任何一个磁盘故障不会导致数据丢失。</li><li><strong>缺点</strong>：存储利用率低，仅为总容量的一半。</li><li><strong>使用场景</strong>：需要高数据可靠性的应用，如：财务数据存储、重要文档存储。</li></ul><h3 id="_2-2-3-raid-3-位级条带化与单一奇偶校验" tabindex="-1">2.2.3 RAID-3（位级条带化与单一奇偶校验） <a class="header-anchor" href="#_2-2-3-raid-3-位级条带化与单一奇偶校验" aria-label="Permalink to &quot;2.2.3 RAID-3（位级条带化与单一奇偶校验）&quot;">​</a></h3><ul><li>RAID-3 对应的动画，如下所示：</li></ul><p><img src="/linux/assets/5.otdqdbQP.gif" alt="img"></p><ul><li><strong>特点</strong>：RAID 3 将数据在字节或位级别进行条带化，同时使用一个单独的磁盘来存储奇偶校验信息。</li><li><strong>可用空间</strong>：<code>（N-1）* min(S1,S2...)</code>，最少磁盘数为 3，N+2。</li><li><strong>优点</strong>：对于大文件的顺序读取和写入性能较好，因为所有磁盘同时参与数据传输。</li><li><strong>缺点</strong>： <ul><li>单个奇偶校验磁盘成为瓶颈，导致并发写入性能较差。</li><li>由于数据条带化在位或字节级别，恢复数据时需要所有磁盘参与，重建速度较慢。</li><li>复杂度较高，磁盘同步要求严格。</li></ul></li><li><strong>使用场景</strong>：主要适用于连续数据流应用，如：视频编辑、图像处理和科学计算等需要顺序大文件读取的场景。</li></ul><blockquote><p>注意⚠️：</p><ul><li>① 之所以，RAID 3 被淘汰，是因为在实际测试中，会发现写性能瓶颈会发生在最后一个数据校验磁盘上（损坏的几率很高）。</li><li>② RAID 4 和 RAID3 原理差不多，只不多 RAID3 使用的是位或字节级别条带化，而 RAID4 采用的是块级别条带化。</li><li>③ 类似于异或运算，只需要将两个数据已经异或运算，就可以得到第三个数据了；取任意两个数进行异或运算，总能得到第三个数，这就是其为什么能解决数据丢失的原理。</li><li>④ 组成 RAID 的硬盘，最好容量是一样的，即：都是 2 TB ；如果其中有一个超过了（4TB），那么多余的容量（2 TB）将不会利用。</li></ul></blockquote><h3 id="_2-2-4-raid-5-⭐" tabindex="-1">2.2.4 RAID-5（⭐） <a class="header-anchor" href="#_2-2-4-raid-5-⭐" aria-label="Permalink to &quot;2.2.4 RAID-5（⭐）&quot;">​</a></h3><ul><li>RAID-5 对应的动画，如下所示：</li></ul><p><img src="/linux/assets/6.DVpCqBbK.gif" alt="img"></p><ul><li><strong>特点</strong>：数据和奇偶校验信息分布在多个磁盘上，至少需要三个磁盘。</li><li><strong>优点</strong>：提供数据冗余和较好的存储利用率，读性能好。</li><li><strong>缺点</strong>：写性能较差，重建时间较长。</li><li><strong>使用场景</strong>：文件服务器、大部分企业应用、数据库。</li></ul><h3 id="_2-2-5-raid-10-⭐" tabindex="-1">2.2.5 RAID-10（⭐） <a class="header-anchor" href="#_2-2-5-raid-10-⭐" aria-label="Permalink to &quot;2.2.5 RAID-10（⭐）&quot;">​</a></h3><ul><li>RAID-10 对应的动画，如下所示：</li></ul><p><img src="/linux/assets/7.q7Mvjo_H.gif" alt="磁盘管理—磁盘阵列(RAID)实例详解_Linux_04"></p><ul><li>RAID-10 对应的图，如下所示：</li></ul><p><img src="/linux/assets/8.BN7h8ox2.webp" alt=""></p><ul><li><strong>特点</strong>：结合 RAID 0 和 RAID 1（先），将数据先条带化再镜像，至少需要四个磁盘。</li><li><strong>优点</strong>：兼顾高性能和高冗余，读写性能优良。</li><li><strong>缺点</strong>：存储利用率较低，仅为总容量的一半。</li><li><strong>使用场景</strong>：需要高性能和高可靠性的环境，如：数据库、虚拟化环境。</li></ul><h2 id="_2-3-软-raid" tabindex="-1">2.3 软 RAID <a class="header-anchor" href="#_2-3-软-raid" aria-label="Permalink to &quot;2.3 软 RAID&quot;">​</a></h2><h3 id="_2-3-1-概述" tabindex="-1">2.3.1 概述 <a class="header-anchor" href="#_2-3-1-概述" aria-label="Permalink to &quot;2.3.1 概述&quot;">​</a></h3><ul><li>在 Linux 中，是使用 mdadm 命令来管理 RAID 的，其对应的英文是：manage MD devices aka Linux Software RAID（管理多设备【Multiple Device】，特别是管理 Linux 软 RAID 的工具）。</li><li>格式：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mdadm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [mode] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">raiddevice</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [options] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">component-devices</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>常用选项说明：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mode:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -A,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --assemble：组装，将之前创建的阵列组件组装成一个活动的阵列。组件可以明确给出或搜索得到。mdadm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 会检查这些组件是否形成了一个合法的阵列，并可以在需要时修改超级块信息以组装有问题的阵列。</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -B,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --build：构建，构建没有每设备元数据（超级块）的阵列。mdadm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 不能区分初始创建和随后的组装，也不能检查请求的组件是否合适。因此，Build</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 模式应仅在完全理解操作的情况下使用。</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -C,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --create：创建，创建一个包含每设备元数据（超级块）的新阵列。适当的元数据会写入每个设备，然后阵列会被激活。一个“重新同步”过程会启动以确保阵列一致，但设备内容不会受到其他影响。创建后可以立即使用阵列，无需等待重新同步完成。</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -F,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --follow,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --monitor：监控，监控一个或多个</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> md</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 设备，并对状态变化采取行动。这仅对</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> RAID1、4、5、6、10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 或多路径阵列有意义，因为只有这些有有趣的状态变化。RAID0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 或</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Linear</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 阵列不会有缺失、备用或故障驱动，因此无需监控。</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -G,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --grow：增长，增长（或缩小）阵列，或以其他方式重新配置阵列。当前支持的增长选项包括改变组件设备的活动大小和更改</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Linear</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 和</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> RAID</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0、1、4、5、6</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 的活动设备数量、在</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0、1、5</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 和</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 6</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 之间改变</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> RAID</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 级别、在</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 和</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 之间改变级别、更改</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> RAID</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0、1、4、5、6、10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 的块大小和布局，以及添加或删除写意图位图和更改阵列的一致性策略。</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -I,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --incremental：增量组装，向合适的阵列添加单个设备。如果添加设备使阵列可运行，则阵列会启动。这为热插拔系统提供了方便的接口。每检测到一个设备时，mdadm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 会将其包括在某个合适的阵列中。选择性地，当传递</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --fail</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 标志时，我们会从任何活动阵列中移除设备而不是添加它。</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --auto-detect：自动检测，此模式不会对特定设备或阵列执行操作，而是请求</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Linux</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 内核激活任何自动检测的阵列。</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">raiddevice</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> :</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /dev/mdX，X 是 0、1、2、3 ...，类似于 /des/sda</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-C：创建模式</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  	 -n</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #: 使用#个块设备来创建此RAID</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     -l</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #：指明要创建的RAID的级别</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     -a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {yes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">no}：自动创建目标RAID设备的设备文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> CHUNK_SIZE:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 指明块大小,单位k</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     -x</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #: 指明空闲盘的个数</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-D:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 显示</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> raid</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 的详细信息，如：mdadm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -D</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/md0</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">管理模式：</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">	-f：标记指定磁盘为损坏</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">	-a：添加磁盘</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">	-r：移除磁盘</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">观察</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> md</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 的状态：</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /proc/mdstat</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_2-3-2-应用示例" tabindex="-1">2.3.2 应用示例 <a class="header-anchor" href="#_2-3-2-应用示例" aria-label="Permalink to &quot;2.3.2 应用示例&quot;">​</a></h3><ul><li>示例：查看当前系统中的硬盘</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lsblk</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/9.BDSrHBB2.gif" alt=""></p><ul><li>示例：创建 RAID5 （至少 3 个硬盘）</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mdadm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -Cv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/md0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yes</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> raid5</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -x</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sd{b,c,d,e}</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mdadm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --create</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/md0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --auto=yes</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --level=5</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --raid-devices=3</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --spare-devices=1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sd{b,c,d,e}</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --force</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/10.BsK8a_4Y.gif" alt=""></p><ul><li>示例：查看 RAID 阵列信息</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mdadm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -D</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/md0</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/11.DhixRSZ7.gif" alt=""></p><ul><li>示例：对 RAID 设备创建文件系统</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkfs.ext4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/md0</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/12.tphsYiNt.gif" alt=""></p><ul><li>示例：模拟磁盘故障</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mdadm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/md0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sdb</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 标记磁盘损坏</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/14.DJtSSRrQ.gif" alt=""></p><ul><li>示例：移除故障设备</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mdadm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/md0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sdb</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/15.CPEAwy0G.gif" alt=""></p><ul><li>示例：添加新的设备</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mdadm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> –G</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/md0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sde</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/16.dQ-M8hVn.gif" alt=""></p><ul><li>示例：停止 RAID</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mdadm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/md0</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/17.BKWpQ5fx.gif" alt=""></p><ul><li>示例：删除 RAID 信息</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mdadm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --zero-superblock</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sd{b,c,d,e}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/18.C8NpxNr4.gif" alt=""></p><h1 id="第三章-逻辑卷管理-lvm" tabindex="-1">第三章：逻辑卷管理（LVM） <a class="header-anchor" href="#第三章-逻辑卷管理-lvm" aria-label="Permalink to &quot;第三章：逻辑卷管理（LVM）&quot;">​</a></h1><h2 id="_3-1-概述" tabindex="-1">3.1 概述 <a class="header-anchor" href="#_3-1-概述" aria-label="Permalink to &quot;3.1 概述&quot;">​</a></h2><ul><li>逻辑卷（Logic Volume，LV）是一种存储管理方法，通过逻辑卷管理器（Logical Volume Manager，LVM）来实现对存储设备的动态管理。</li><li>和传统的分区方式相比，逻辑卷提供了更高的灵活性和扩展性，解决了传统分区方法在容量管理、管理复杂性、扩展性和数据备份方面的诸多问题，适用于各种需要高效存储管理的应用场景。</li><li>逻辑卷解决的问题，如下所示： <ul><li>① 容量限制：传统分区在创建后很难调整（win 官方支持；但是，Linux 官方不支持），而逻辑卷可以根据需要实时在线动态调整大小。</li><li>② 管理复杂性：逻辑卷将多个物理设备统一管理，简化了存储设备的管理。</li><li>③ 扩展性：当需要增加存储容器的时候，可以直接将新的物理卷添加到现有的卷组中，而无需重新分区或格式化。</li><li>④ 数据备份和恢复：通过快照功能，可以在不影响系统运行的情况下进行数据备份和恢复。</li></ul></li></ul><blockquote><p>注意⚠️：</p><ul><li>① LVM 解决了 <code>空间不够了，怎么扩展？</code> 的问题。</li><li>② LVM 早期来源于 IBM 的小型机（如：AIX 操作系统）；后来，这种技术被推广到了其他操作系统中，包括：Linux 。</li><li>③ 从 RHEL7+ 之后，Redhat 就力推 LVM；如果我们在安装操作系统的时候，不是手动进行分区，那么默认就是使用 LVM 来进行磁盘的管理。</li></ul></blockquote><h2 id="_3-2-工作原理" tabindex="-1">3.2 工作原理 <a class="header-anchor" href="#_3-2-工作原理" aria-label="Permalink to &quot;3.2 工作原理&quot;">​</a></h2><ul><li>LVM 的工作原理图，如下所示：</li></ul><p><img src="/linux/assets/19.CcZwbjvQ.jpg" alt=""></p><ul><li>其工作流程，如下所示： <ul><li>① LVM 将物理存储设备（如：机械硬盘、SSD）抽象为物理卷（Physical Volume，PV），可以简单理解将物理存储打了标记，以方便卷组来管理逻辑卷；需要注意的是，物理存储设备可以是分区也可以是整块硬盘。</li><li>② 将多个物理卷（Physical Volume，PV）组合形成卷组（Volume Group，VG），并可以设置物理区域（Physical Extent，PE）的大小（类似于分区，分区通常的单位是 4096k；而物理区域的单位可以自己指定，默认是 4MB 或 8MB ）。</li><li>③ 将卷组（Volume Group，VG）的基础上，创建一个或多个逻辑卷（Logical Volme，LV）。</li></ul></li><li>在逻辑卷管理（LVM）中，物理区域（Physical Extent，PE）和逻辑区域（Logical Extent，LE）的关系，如下所示：</li></ul><p><img src="/linux/assets/20.De4rkJoR.png" alt="img"></p><ul><li>物理区域（Physical Extent，PE）和逻辑区域（Logical Extent，LE）的区别，如下所示：</li></ul><table tabindex="0"><thead><tr><th>类型</th><th>物理区域（Physical Extent，PE）</th><th>逻辑区域（Logical Extent，LE）</th></tr></thead><tbody><tr><td>定义</td><td>物理区域（Physical Extent，PE）是物理卷（Physical Volume，PV）中的最小分配单位。<br>物理卷（Physical Volume，PV）被划分成多个大小相等的物理区域（Physical Extent，PE）。</td><td>逻辑区域（Logical Extent，LE）是逻辑卷中的最小分配单位。<br>每个逻辑卷（Logical Volme，LV）被划分成若干个大小相等的逻辑区域（Logical Extent，LE）。</td></tr><tr><td>大小</td><td>在创建卷组（Volume Group，VG）时指定物理区域（Physical Extent，PE）的大小，所有加入该卷组的物理卷将使用相同大小的物理区域（Physical Extent，PE）。<br>例如：物理区域（Physical Extent，PE）大小可以是 4MB、8MB 或其他适当的大小。</td><td>逻辑区域（Logical Extent，LE）的大小与物理区域（Physical Extent，PE）的大小相同。<br>在创建卷组（Volume Group，VG）时指定物理区域（Physical Extent，PE）的大小后，逻辑区域（Logical Extent，LE）的大小自动与物理区域（Physical Extent，PE）大小相同。</td></tr><tr><td>作用</td><td>物理区域（Physical Extent，PE）是 LVM 在物理卷（Physical Volume，PV）上分配和管理存储空间的基础单位。<br>逻辑卷（Logical Volme，LV）中的存储空间实际上是由多个物理区域（Physical Extent，PE）组合而成的。</td><td>逻辑区域（Logical Extent，LE）是 LVM 在逻辑卷上分配和管理存储空间的基础单位。<br>逻辑卷中的数据是按逻辑区域（Logical Extent，LE）进行管理的。</td></tr></tbody></table><blockquote><p>注意⚠️：</p><ul><li>① 创建完逻辑卷（Logical Volume，LV），在需要在上面创建文件系统，并挂载到 Linux 中的指定目录中，方可使用！！！</li><li>② 逻辑卷（Logical Volume，LV）对应的设备名通常是 <code>/dev/dm-#</code>，如：/dev/dm-0 ，其对应的软链接是 <code>/dev/mapper/VG_NAME-LV_NAME</code> 。</li></ul></blockquote><h2 id="_3-3-lvm-实时在线扩容的原理" tabindex="-1">3.3 LVM 实时在线扩容的原理 <a class="header-anchor" href="#_3-3-lvm-实时在线扩容的原理" aria-label="Permalink to &quot;3.3 LVM 实时在线扩容的原理&quot;">​</a></h2><ul><li>LVM（逻辑卷管理）实时在线扩容是通过在不停止系统运行的情况下动态增加存储容量的一种技术，其背后就是借助了 PE ，即：</li></ul><p><img src="/linux/assets/21.-ldUAxzV.png" alt="image-20240617101936562"></p><ul><li>其实就是通过交换 PE（对应的就是 LE）来进行数据的转换，将原来 LV 内的 PE 转义到其他设备中以便降低 LV 的容量，或者将其他设备中的 PE 加入到 LV 中以便增加 LV 的容量。</li></ul><h2 id="_3-4-安装对应的软件包" tabindex="-1">3.4 安装对应的软件包 <a class="header-anchor" href="#_3-4-安装对应的软件包" aria-label="Permalink to &quot;3.4 安装对应的软件包&quot;">​</a></h2><ul><li>LVM 来源于 lvm2 软件包，安装命令如下：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lvm2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/22.CqkMeOoF.gif" alt=""></p><ul><li>查看软件包中对应的命令：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dnf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> repoquery</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --list</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lvm2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/sbin/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/23.DFItAcIi.gif" alt=""></p><h2 id="_3-5-实战-lvm" tabindex="-1">3.5 实战 LVM <a class="header-anchor" href="#_3-5-实战-lvm" aria-label="Permalink to &quot;3.5 实战 LVM&quot;">​</a></h2><h3 id="_3-5-1-物理卷-physical-volume-pv-管理" tabindex="-1">3.5.1 物理卷（Physical Volume，PV）管理 <a class="header-anchor" href="#_3-5-1-物理卷-physical-volume-pv-管理" aria-label="Permalink to &quot;3.5.1 物理卷（Physical Volume，PV）管理&quot;">​</a></h3><ul><li>显示物理卷（Physical Volume，PV）信息：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pvs</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 简要信息，s 是 show 的意思</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pvdisplay</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>创建物理卷（Physical Volume，PV）：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -v，--verbose 显示进度</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -f，--force 强制</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pvcreate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [-v][-f] /dev/DEVICE /dev/DEVICE ... </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># DEVICE 可以是设备名 sda，也可以是分区名 sdb1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>删除物理卷（Physical Volume，PV）：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -v，--verbose 显示进度</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -f，--force 强制</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pvremove</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [-v][-f] /dev/DEVICE /dev/DEVICE ... </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># DEVICE 可以是设备名 sda，也可以是分区名 sdb1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>示例：显示物理卷信息</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pvs</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 简要信息</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pvdisplay</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/24.BMb2-sWD.gif" alt=""></p><ul><li>示例：创建物理卷</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pvcreate</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -vf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sdb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sdc1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/25.CFJ7cu48.gif" alt=""></p><ul><li>示例：删除物理卷</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pvremove</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -vf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sdb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sdbc1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/26.CP0WstSj.gif" alt=""></p><h3 id="_3-5-2-卷组-volume-group-vg-管理" tabindex="-1">3.5.2 卷组（Volume Group，VG）管理 <a class="header-anchor" href="#_3-5-2-卷组-volume-group-vg-管理" aria-label="Permalink to &quot;3.5.2 卷组（Volume Group，VG）管理&quot;">​</a></h3><ul><li>显示卷组（Volume Group，VG）信息：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vgs</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 简要信息</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vgdisplay</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>创建卷组（Volume Group，VG）：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -v，--verbose 显示进度</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -f，--force 强制</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -s|--physicalextentsize Size[m|UNIT] 指定 PE 的大小，单位是 kKmMgGtTpPeE</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vgcreate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [-v][-f] [-s</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">--physicalextentsize Size[m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UNIT]] VolumeGroupName PV ... </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 其中，VolumeGroupName 卷组名，PV 就是 /dev/DEVICE</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>删除卷组（Volume Group，VG）：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vgremove</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [-v][-f] VolumeGroupName...  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># VolumeGroupName 卷组名</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>注意⚠️：</p><ul><li>① 如果卷组上有存在的逻辑卷（LV），系统会提示用户确认是否要删除这些逻辑卷；所以，在实际操作中，需要先卸载逻辑卷（如果已挂载），再删除逻辑卷和卷组，最后再删除卷组。</li><li>② 如果某些卷组中的物理卷（PV）丢失了，可以使用 <code>vgreduce --removemissing</code> 来移除丢失的物理卷。</li><li>③ 如果希望跳过确认提示并强制删除卷组中的所有逻辑卷，可以使用 <code>-ff</code> 选项，即：<code>vgremove [-v][-ff] VolumeGroupName...</code> 。</li></ul></blockquote><ul><li>管理卷组（Volume Group，VG）：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vgextend</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> VG</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PV</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ...</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 向指定的卷组中增加物理卷</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vgreduce</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> VG</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PV</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ...</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 从指定的卷组中移除物理卷</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>示例：显示卷组信息</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vgs</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 简要信息</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vgdisplay</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/27.DsYRTW0a.gif" alt=""></p><ul><li>示例：创建卷组</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vgcreate</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 8M</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vg-mysql</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sdb</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sdc1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/28.BGz9E23f.gif" alt=""></p><ul><li>示例：删除卷组</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vgremove</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vg-mysql</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/29.CJK_9mGj.gif" alt=""></p><h3 id="_3-5-34-逻辑卷-logical-volume-lv-管理" tabindex="-1">3.5.34 逻辑卷（Logical Volume，LV）管理 <a class="header-anchor" href="#_3-5-34-逻辑卷-logical-volume-lv-管理" aria-label="Permalink to &quot;3.5.34 逻辑卷（Logical Volume，LV）管理&quot;">​</a></h3><ul><li>显示逻辑卷（Logical Volume，LV）信息：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lvs</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lvdisplay</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>创建逻辑卷（Logical Volume，LV）：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -v，--verbose 显示进度</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># [-L|--size size[m|UNIT]] 指定大小，如：-L 50G</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -n LogicalVolumeName 指定逻辑卷的名称</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -l ，如：-L 60%VG（VG 的60%），-L 100%FREE（全部）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lvcreate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [-v] [-L</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">--size size[m</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UNIT]] -n LogicalVolumeName VolumeGroupName</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>删除逻辑卷（Logical Volume，LV）：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 需要先卸载挂载的逻辑卷，然后才可以删除逻辑卷（也可以继续删除卷组，删除物理卷标识）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lvremove</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/VG_NAME/LV_NAME</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>重设文件系统大小：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fsadm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> resize</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/VG_NAME/LV_NAME</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +20G</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 扩展文件系统和逻辑卷，只支持 ext 文件系统</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fsadm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> resize</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/VG_NAME/LV_NAM</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -10G</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #  缩小文件系统和逻辑卷，只支持 ext 文件系统</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># resize2fs 用于调整文件系统的大小，但是不处理逻辑卷的大小，只支持 ext 文件系统</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lvextend</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -L</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +20G</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/VG_NAME/LV_NAME</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 扩展文件系统（在扩展逻辑卷之后）,先调整逻辑卷的大小</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resize2fs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/VG_NAME/LV_NAME</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 扩展文件系统（在扩展逻辑卷之后）,再调整文件系统的大小</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lvreduce</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -L</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -10G</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/VG_NAME/LV_NAME</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 缩小文件系统（在缩小逻辑卷之前）,先调整逻辑卷的大小</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resize2fs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/VG_NAME/LV_NAME</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 缩小文件系统（在缩小逻辑卷之前）,再调整文件系统的大小</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># xfs_growfs 用于扩展 XFS 文件系统，但不支持缩小。需要先扩展逻辑卷，再扩展文件系统。</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lvextend</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -L</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +20G</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/VG_NAME/LV_NAME#</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 扩展文件系统（在扩展逻辑卷之后）,先调整逻辑卷的大小</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">xfs_growfs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/VG_NAME/LV_NAME</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 扩展文件系统（在扩展逻辑卷之后）,再调整文件系统的大小</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># lvresize 用于调整逻辑卷的大小，底层调用的就是 resize2fs 或 xfs_growfs，XFS 文件系统不支持缩小</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -l|--extents [+]Number[PERCENT] 扩展百分比，调整逻辑卷 </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -r|--resizefs 调整文件系统</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># [-L|--size size[m|UNIT]] 指定大小，如：-L 50G</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lvresize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [-r</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">--resizefs]</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [-l</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">--extents]</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [-L </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">+20G]</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/VG_NAME/LV_NAME</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 扩展文件系统</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>示例：显示逻辑卷信息</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lvs</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lvdiaplay</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/30.BJl83nR8.gif" alt=""></p><ul><li>示例：创建 10G 的逻辑卷用于存储 mysql-data 数据，创建 5G 的逻辑卷用于存储 mysql-log 数据</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lvcreate</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -L</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10G</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql-data</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vg-mysql</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lvcreate</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -L</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 5G</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql-log</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vg-mysql</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/31.DqpeZGjj.gif" alt=""></p><ul><li>示例：创建文件系统，并挂载</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -pv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/{mysql-data,mysql-log}</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 创建挂载点</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkfs.ext4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/vg-mysql/mysql-data</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 创建文件系统</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkfs.ext4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/vg-mysql/mysql-log</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 创建文件系统</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mount</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/vg-mysql/mysql-data</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/mysql-data</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 挂载</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mount</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/vg-mysql/mysql-log</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/mysql-log</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 挂载</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/32.DdoAYvJr.gif" alt=""></p><h2 id="_3-6-删除逻辑卷-危险" tabindex="-1">3.6 删除逻辑卷（危险） <a class="header-anchor" href="#_3-6-删除逻辑卷-危险" aria-label="Permalink to &quot;3.6 删除逻辑卷（危险）&quot;">​</a></h2><h3 id="_3-6-1-概述" tabindex="-1">3.6.1 概述 <a class="header-anchor" href="#_3-6-1-概述" aria-label="Permalink to &quot;3.6.1 概述&quot;">​</a></h3><ul><li>步骤： <ul><li>① <strong>卸载逻辑卷</strong>：确保所有挂载的逻辑卷都被卸载。</li><li>② <strong>删除逻辑卷</strong>：使用<code>lvremove</code>命令删除逻辑卷。</li><li>③ <strong>删除卷组</strong>：使用<code>vgremove</code>命令删除卷组（也可以跳过步骤②，加上 <code>-ff</code> 选项，强制删除卷组中的所有逻辑卷）。</li><li>④ <strong>删除物理卷</strong>：使用<code>pvremove</code>命令将物理卷从LVM管理中移除。</li></ul></li></ul><blockquote><p>注意⚠️：在删除逻辑卷和卷组之前，确保已经备份了所有重要数据。删除操作不可逆，数据将永久丢失。</p></blockquote><h3 id="_3-6-2-应用示例" tabindex="-1">3.6.2 应用示例 <a class="header-anchor" href="#_3-6-2-应用示例" aria-label="Permalink to &quot;3.6.2 应用示例&quot;">​</a></h3><ul><li>示例：卸载逻辑卷</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">umount</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/mysql-data</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">umount</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/mysql-log</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/33.IXGMfQQ4.gif" alt=""></p><ul><li>示例：删除逻辑卷</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lvremove</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/vg-mysql/mysql-data</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lvremove</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/vg-mysql/mysql-log</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/34.BRk_pJ2j.gif" alt=""></p><ul><li>示例：删除卷组</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vgremove</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vg-mysql</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/35.n_Y1mUcM.gif" alt=""></p><ul><li>示例：删除物理卷</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pvremove</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sdb</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pvremove</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sdc1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/36.3z9rSChq.gif" alt=""></p><h3 id="_3-6-3-应用示例" tabindex="-1">3.6.3 应用示例 <a class="header-anchor" href="#_3-6-3-应用示例" aria-label="Permalink to &quot;3.6.3 应用示例&quot;">​</a></h3><ul><li>示例：卸载逻辑卷</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">umount</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/mysql-data</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">umount</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/mysql-log</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/37.BMPZH_20.gif" alt=""></p><ul><li>示例：删除卷组的同时删除逻辑卷</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vgremove</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ff</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vg-mysql</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/38.CKy3c1R6.gif" alt=""></p><ul><li>示例：删除物理卷</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pvremove</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sdb</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pvremove</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sdc1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/36.3z9rSChq.gif" alt=""></p><h2 id="_3-7-在线扩展逻辑卷" tabindex="-1">3.7 在线扩展逻辑卷 <a class="header-anchor" href="#_3-7-在线扩展逻辑卷" aria-label="Permalink to &quot;3.7 在线扩展逻辑卷&quot;">​</a></h2><h3 id="_3-7-1-概述" tabindex="-1">3.7.1 概述 <a class="header-anchor" href="#_3-7-1-概述" aria-label="Permalink to &quot;3.7.1 概述&quot;">​</a></h3><ul><li>在线扩展逻辑卷的原理，在上文已经解释过了，本次只给出原理图：</li></ul><p><img src="/linux/assets/21.-ldUAxzV.png" alt=""></p><ul><li>扩展逻辑卷只要把握如下的两点就可以了： <ul><li>① 如果卷组中还有剩余空间，就将剩余的空间分配给逻辑卷，然后再重设文件系统大小。</li><li>② 如果卷组本身也没有剩余空间，那么就需要扩容卷组，然后将多余的空间分配给逻辑卷，然后再重设文件系统大小。</li></ul></li><li>查看文件系统对应的逻辑卷的大小：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lsblk</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/41.DUzSdEkI.png" alt="image-20240617144130487"></p><ul><li>模拟硬盘数据将要写满了，现在需要在线扩容：</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> if=/dev/zero</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> of=/mnt/mysql-data/out.img</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bs=1G</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> count=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/42.DXRVLVBp.gif" alt=""></p><h3 id="_3-7-2-应用示例-情况1" tabindex="-1">3.7.2 应用示例（情况①） <a class="header-anchor" href="#_3-7-2-应用示例-情况1" aria-label="Permalink to &quot;3.7.2 应用示例（情况①）&quot;">​</a></h3><ul><li>示例：查看卷组是否还有剩余空间</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vgdisplay</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/43.CWqTYjhT.png" alt="image-20240617144805464"></p><ul><li>示例：扩容逻辑卷，并重设文件大小</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#  -L|--size [+]Size[m|UNIT] 单位是：[mMgGtT 等</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -l|--extents [+]Number[PERCENT] 扩展百分比 </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lvextend</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +100%FREE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/vg-mysql/mysql-data</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resize2fs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/vg-mysql/mysql-data</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # ext4 文件系统</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">xfs_growfs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/vg-mysql/mysql-data</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # xfs 文件系统</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="/linux/assets/44.IGQhW6xR.gif" alt=""></p><ul><li>示例：扩容逻辑卷，并重设文件大小（推荐）</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -r|--resizefs 重置文件系统</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -l|--extents [+]Number[PERCENT] 扩展百分比 </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lvextend</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +100%FREE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/vg-mysql/mysql-data</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # lvextend 也可以在扩容逻辑卷的同时，重设文件系统大小</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="/linux/assets/45.BYp273St.gif" alt=""></p><h3 id="_3-7-3-应用示例-情况2" tabindex="-1">3.7.3 应用示例（情况②） <a class="header-anchor" href="#_3-7-3-应用示例-情况2" aria-label="Permalink to &quot;3.7.3 应用示例（情况②）&quot;">​</a></h3><ul><li>示例：查看卷组是否还有剩余空间</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vgdisplay</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/46.CERs7N27.png" alt="image-20240617153207957"></p><ul><li>示例：模拟硬盘数据将要写满了</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> if=/dev/zero</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> of=/mnt/mysql-data/out.img</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bs=1G</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> count=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/47.DcRu52Ql.gif" alt=""></p><ul><li>示例：扩容卷组</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pvcreate</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sdd</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vgextend</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vg-mysql</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/sdd</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/48.r0ZBsZ3K.gif" alt=""></p><ul><li>示例：扩容逻辑卷</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lvextend</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +100%FREE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/vg-mysql/mysql-data</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/49.DniNM1aJ.gif" alt=""></p><h2 id="_3-8-缩减逻辑卷" tabindex="-1">3.8 缩减逻辑卷 <a class="header-anchor" href="#_3-8-缩减逻辑卷" aria-label="Permalink to &quot;3.8 缩减逻辑卷&quot;">​</a></h2><h3 id="_3-8-1-概述" tabindex="-1">3.8.1 概述 <a class="header-anchor" href="#_3-8-1-概述" aria-label="Permalink to &quot;3.8.1 概述&quot;">​</a></h3><ul><li>步骤： <ul><li>① <strong>卸载文件系统</strong>：如果逻辑卷已经挂载，先卸载它。</li><li>② <strong>检查文件系统</strong>：运行文件系统检查命令，确保文件系统没有错误。</li><li>③ <strong>调整文件系统大小</strong>：使用<code>resize2fs</code>命令将文件系统调整为指定大小；如果出现问题，可以调整到一个相对大的安全值，如：原先是 10G ，那么现在就可以调整为 15G 。</li><li>④ <strong>缩减逻辑卷大小</strong>：使用<code>lvreduce</code>命令将逻辑卷大小缩减到指定大小。</li><li>⑤ <strong>重新挂载文件系统</strong>：缩减完成后，重新挂载逻辑卷。</li></ul></li></ul><blockquote><p>注意⚠️：</p><ul><li>① 在缩减之前，需要先备份数据，防止数据损坏！！！</li><li>② xfs 文件系统不支持缩减，ext 系列的文件系统才支持缩减。</li><li>③ lvm 技术不支持在线实时缩减逻辑卷，必须先卸载文件系统。</li></ul></blockquote><h3 id="_3-8-2-应用示例" tabindex="-1">3.8.2 应用示例 <a class="header-anchor" href="#_3-8-2-应用示例" aria-label="Permalink to &quot;3.8.2 应用示例&quot;">​</a></h3><ul><li>示例：卸载文件系统（假设数据已经备份）</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">umount</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/mysql-data</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/50.Cf9JqLhH.gif" alt=""></p><ul><li>示例：检查文件系统，确保文件系统没有损坏</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fsck</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/vg-mysql/mysql-data</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/51.CElgRaY_.gif" alt=""></p><ul><li>示例：调整文件系统大小</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resize2fs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/vg-mysql/mysql-data</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10G</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/52.Cn8AbQEy.gif" alt=""></p><ul><li>示例：缩减逻辑卷</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lvreduce</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -L</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10G</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/vg-mysql/mysql-data</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/53.DMft3g5m.gif" alt=""></p><ul><li>示例：重新挂载文件系统</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mount</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/vg-mysql/mysql-data</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/mysql-data</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/54.BL8fyVjq.gif" alt=""></p><h2 id="_3-9-逻辑卷的快照" tabindex="-1">3.9 逻辑卷的快照 <a class="header-anchor" href="#_3-9-逻辑卷的快照" aria-label="Permalink to &quot;3.9 逻辑卷的快照&quot;">​</a></h2><h3 id="_3-9-1-概述" tabindex="-1">3.9.1 概述 <a class="header-anchor" href="#_3-9-1-概述" aria-label="Permalink to &quot;3.9.1 概述&quot;">​</a></h3><ul><li>我们在使用 VMWare 虚拟化软件的时候，最主要的一个原因就是它提供了快照的功能，如果我们将 Linux 玩坏了，就可以直接回滚。</li></ul><p><img src="/linux/assets/55.CcRgCvVr.png" alt="image-20240617160835064"></p><ul><li>其实，LVM 逻辑卷也提供了快照功能，可以帮助我们完成如下的功能： <ul><li>① <strong>数据保护和恢复</strong>：快照可以在关键操作（如：软件升级、配置更改）前创建，提供回滚点。如果操作失败，可以快速恢复到快照时的状态。</li><li>② <strong>开发和测试环境</strong>：在开发和测试过程中，快照可以用于快速创建一致的数据副本，帮助团队在相同的环境下进行测试，确保一致性。</li><li>③ <strong>备份管理</strong>：快照可以作为备份策略的一部分，定期创建快照以确保数据安全。这种方法比传统备份更快速且资源占用更少。</li></ul></li></ul><h3 id="_3-9-2-工作原理" tabindex="-1">3.9.2 工作原理 <a class="header-anchor" href="#_3-9-2-工作原理" aria-label="Permalink to &quot;3.9.2 工作原理&quot;">​</a></h3><ul><li>快照是一种特殊的逻辑卷，它是在生成快照时存在的逻辑卷的准确拷贝，对于需要备份或者复制的现有数据临时拷贝以及其它操作来说，快照是最合适的选择，快照只有在它们和原来的逻辑卷不同时才会消耗空间， 建立快照的卷大小小于等于原始逻辑卷。</li><li>快照的工作原理的图示，如下所示：</li></ul><p><img src="/linux/assets/56.ChROcI1M.png" alt="img"></p><ul><li>快照的工作原理，如下： <ul><li>① 在生成快照的时候，会分配给快照一定的空间（通常小于或等于原始逻辑卷）；当原先的逻辑卷或快照有所改变的时候，才会使用这些空间。</li><li>② 当原先的逻辑卷有所改变的时候，会将旧的数据复制到快照中。</li><li>③ 快照中只包含原来逻辑卷中更改的数据或者自生成快照后快照中更改的数据。</li></ul></li></ul><blockquote><p>注意⚠️：</p><ul><li>① 由于快照区和原先的逻辑卷公用了很多 LE（PE） 的区块，因此快照和被快照的逻辑卷必须在同一个卷组，系统恢复的时候的文件数量不能高于快照区的实际容量。</li><li>② 公有云上也提供了快照技术，并且公有云的快照实现依赖于底层存储技术、云平台的管理功能和自动化工具。增量快照技术、数据一致性保证和跨区域复制是实现快照的关键技术点。通过这些技术，公有云平台可以为用户提供高效、可靠的数据保护和恢复服务。</li></ul></blockquote><h3 id="_3-9-3-实战" tabindex="-1">3.9.3 实战 <a class="header-anchor" href="#_3-9-3-实战" aria-label="Permalink to &quot;3.9.3 实战&quot;">​</a></h3><ul><li>示例：查看卷组</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vgdisplay</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/57.Dg9cZkWU.png" alt="image-20240617163622604"></p><ul><li>示例：创建快照挂载点</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -pv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/mysql-data-snapshot</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/58.BQclMf3h.gif" alt=""></p><ul><li>示例：在原始逻辑卷中增加数据</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cp</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -R</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/mysql-data</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/59.BSwAElSq.gif" alt=""></p><ul><li>示例：为原始逻辑卷创建快照</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -s|--snapshot 指定逻辑卷为快照</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -n|--name String 指定逻辑卷的名称</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># -p|--permission rw|r 权限</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lvcreate</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +100%FREE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql-data-snapshot</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/vg-mysql/mysql-data</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="/linux/assets/60.BnO_c0Ri.gif" alt=""></p><ul><li>示例：挂载快照</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mount</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/vg-mysql/mysql-data-snapshot</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/mysql-data-snapshot</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/61.D-GuXdfx.gif" alt=""></p><ul><li>示例：查看快照中的数据是否存在</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ll</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/mysql-data-snapshot</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/62.ByuE9RUp.gif" alt=""></p><ul><li>示例：删除原始逻辑卷中的数据</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -rf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/mysql-data/etc</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/63.Mpr50rZh.gif" alt=""></p><ul><li>示例：合并快照到原始逻辑卷（在创建快照之后的原始逻辑卷的数据会丢失，可以事先备份，并且快照也会被删除）</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">umount</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/mysql-data-snapshot</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">umount</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/mysql-data</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lvconvert</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --mergesnapshot</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/vg-mysql/mysql-data-snapshot</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/64.DfOZdiLH.gif" alt=""></p><ul><li>示例：挂载原始逻辑卷</li></ul><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mount</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/mysql-data</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dev/vg-mysql/mysql-data</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/linux/assets/65.iynaBws1.gif" alt=""></p></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-d4a0bba5><!--[--><!--]--><div class="edit-info" data-v-d4a0bba5><!----><div class="last-updated" data-v-d4a0bba5><p class="VPLastUpdated" data-v-d4a0bba5 data-v-7e05ebdb>上次更新: <time datetime="2024-06-17T19:35:22.000Z" data-v-7e05ebdb></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-d4a0bba5><span class="visually-hidden" id="doc-footer-aria-label" data-v-d4a0bba5>Pager</span><div class="pager" data-v-d4a0bba5><a class="VPLink link pager-link prev" href="/linux/notes/01_linux_basic/18_xdx/" data-v-d4a0bba5><!--[--><span class="desc" data-v-d4a0bba5>上一篇</span><span class="title" data-v-d4a0bba5>Linux 磁盘存储和文件系统管理（一）</span><!--]--></a></div><div class="pager" data-v-d4a0bba5><a class="VPLink link pager-link next" href="/linux/notes/01_linux_basic/20_xdx/" data-v-d4a0bba5><!--[--><span class="desc" data-v-d4a0bba5>下一篇</span><span class="title" data-v-d4a0bba5>计算机网络基础</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><p class="message" data-v-e315a0ad>Released under the MIT License.</p><p class="copyright" data-v-e315a0ad>Copyright © 2024 许大仙</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"notes_01_linux_basic_07_xdx_index.md\":\"BY3CGTfh\",\"notes_01_linux_basic_04_xdx_index.md\":\"B0H_cmfR\",\"notes_01_linux_basic_01_xdx_index.md\":\"B_1UNTy-\",\"index.md\":\"BajNDass\",\"notes_01_linux_basic_06_xdx_index.md\":\"D_vcFX70\",\"notes_index.md\":\"JmGsFNrT\",\"notes_01_linux_basic_13_xdx_index.md\":\"7I_m0n2T\",\"notes_01_linux_basic_09_xdx_index.md\":\"CwTVOMga\",\"notes_01_linux_basic_10_xdx_index.md\":\"BDHE-DUD\",\"notes_01_linux_basic_14_xdx_index.md\":\"Dmlsu2t_\",\"notes_01_linux_basic_00_xdx_index.md\":\"CjOgjdVr\",\"notes_01_linux_basic_02_xdx_index.md\":\"DVcTny7G\",\"notes_01_linux_basic_12_xdx_index.md\":\"Bfselplb\",\"notes_01_linux_basic_15_xdx_index.md\":\"BFNLCklm\",\"notes_01_linux_basic_19_xdx_index.md\":\"DgHUTLhu\",\"notes_01_linux_basic_08_xdx_index.md\":\"s6v3tYh0\",\"notes_01_linux_basic_18_xdx_index.md\":\"ChKs4_0l\",\"notes_01_linux_basic_05_xdx_index.md\":\"B9QJFJ00\",\"notes_01_linux_basic_03_xdx_index.md\":\"CBFgT6nW\",\"notes_01_linux_basic_16_xdx_index.md\":\"CDt8Dpqy\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"许大仙\",\"titleTemplate\":\"Hi，终于等到你\",\"description\":\"许大仙前端、Java、大数据、云原生\",\"base\":\"/linux/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"lastUpdatedText\":\"上次更新\",\"returnToTopLabel\":\"返回顶部\",\"search\":{\"provider\":\"local\"},\"logo\":\"/logo.svg\",\"nav\":[{\"text\":\"首页\",\"link\":\"https://aexiar.github.io/\"},{\"text\":\"计组4件套\",\"link\":\"https://aexiar.github.io/coa4/notes/\"},{\"text\":\"前端\",\"link\":\"https://aexiar.github.io/web-design/notes/\"},{\"text\":\"Java\",\"link\":\"https://aexiar.github.io/java/notes/\"},{\"text\":\"大数据\",\"link\":\"https://aexiar.github.io/big-data/notes/\"},{\"text\":\"云原生\",\"link\":\"/notes/\"},{\"text\":\"开源软件\",\"link\":\"https://aexiar.github.io/open-software/notes/\"}],\"sidebar\":{\"/notes/\":[{\"text\":\"Linux基础\",\"collapsed\":true,\"items\":[{\"text\":\"计算机硬件与组成原理基础\",\"link\":\"/notes/01_linux_basic/00_xdx/\"},{\"text\":\"Linux 初识和安装\",\"link\":\"/notes/01_linux_basic/01_xdx/\"},{\"text\":\"Linux 基础和入门\",\"link\":\"/notes/01_linux_basic/02_xdx/\"},{\"text\":\"Linux 核心目录和必会命令\",\"link\":\"/notes/01_linux_basic/03_xdx/\"},{\"text\":\"Linux 目录进阶（一）\",\"link\":\"/notes/01_linux_basic/04_xdx/\"},{\"text\":\"Linux 目录进阶（二）\",\"link\":\"/notes/01_linux_basic/05_xdx/\"},{\"text\":\"Linux 文件管理体系\",\"link\":\"/notes/01_linux_basic/06_xdx/\"},{\"text\":\"Linux 标准 IO、重定向和管道\",\"link\":\"/notes/01_linux_basic/07_xdx/\"},{\"text\":\"文本编辑器之神 VIM\",\"link\":\"/notes/01_linux_basic/08_xdx/\"},{\"text\":\"Linux 四剑客（一）\",\"link\":\"/notes/01_linux_basic/09_xdx/\"},{\"text\":\"正则表达式\",\"link\":\"/notes/01_linux_basic/10_xdx/\"},{\"text\":\"SHELL 脚本编程（一）\",\"link\":\"/notes/01_linux_basic/11_xdx/\"},{\"text\":\"Linux 用户管理体系\",\"link\":\"/notes/01_linux_basic/12_xdx/\"},{\"text\":\"Linux 权限管理体系\",\"link\":\"/notes/01_linux_basic/13_xdx/\"},{\"text\":\"Linux 之快速安装 Ubuntu\",\"link\":\"/notes/01_linux_basic/14_xdx/\"},{\"text\":\"Linux 软件包管理（一）\",\"link\":\"/notes/01_linux_basic/15_xdx/\"},{\"text\":\"Linux 软件包管理（二）\",\"link\":\"/notes/01_linux_basic/16_xdx/\"},{\"text\":\"Linux 四剑客（二）\",\"link\":\"/notes/01_linux_basic/17_xdx/\"},{\"text\":\"Linux 磁盘存储和文件系统管理（一）\",\"link\":\"/notes/01_linux_basic/18_xdx/\"},{\"text\":\"Linux 磁盘存储和文件系统管理（二）\",\"link\":\"/notes/01_linux_basic/19_xdx/\"},{\"text\":\"计算机网络基础\",\"link\":\"/notes/01_linux_basic/20_xdx/\"},{\"text\":\"Linux 网络管理\",\"link\":\"/notes/01_linux_basic/21_xdx/\"},{\"text\":\"SHELL 脚本编程（二）\",\"link\":\"/notes/01_linux_basic/22_xdx/\"},{\"text\":\"Linux 进程管理\",\"link\":\"/notes/01_linux_basic/23_xdx/\"},{\"text\":\"Linux 定时任务管理\",\"link\":\"/notes/01_linux_basic/24_xdx/\"},{\"text\":\"Linux 启动和内核管理\",\"link\":\"/notes/01_linux_basic/25_xdx/\"},{\"text\":\"加密和安全\",\"link\":\"/notes/01_linux_basic/26_xdx/\"},{\"text\":\"运维自动化之系统部署\",\"link\":\"/notes/01_linux_basic/27_xdx/\"},{\"text\":\"域名系统 DNS 服务\",\"link\":\"/notes/01_linux_basic/28_xdx/\"}]},{\"text\":\"Linux集群\",\"collapsed\":true,\"items\":[]},{\"text\":\"Linux自动化\",\"collapsed\":true,\"items\":[]},{\"text\":\"Linux日志收集\",\"collapsed\":true,\"items\":[]},{\"text\":\"云原生生态\",\"collapsed\":true,\"items\":[]},{\"text\":\"虚拟化和云计算\",\"collapsed\":true,\"items\":[]},{\"text\":\"容器管理工具Docker\",\"collapsed\":true,\"items\":[]},{\"text\":\"容器管理工具Containerd\",\"collapsed\":true,\"items\":[]},{\"text\":\"Kubernetes\",\"collapsed\":true,\"items\":[]},{\"text\":\"数据库\",\"collapsed\":true,\"items\":[]},{\"text\":\"微服务治理和服务网格\",\"collapsed\":true,\"items\":[]},{\"text\":\"下一代云计算技术Serverless\",\"collapsed\":true,\"items\":[]},{\"text\":\"基于Kubernetes构建大数据库生态圈\",\"collapsed\":true,\"items\":[]},{\"text\":\"其它\",\"collapsed\":true,\"items\":[]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/Aurorxa\"}],\"docFooter\":{\"prev\":\"上一篇\",\"next\":\"下一篇\"},\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright © 2024 许大仙\"},\"outline\":{\"level\":[1,6],\"label\":\"目录\"},\"outlineTitle\":\"当前页大纲\"},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>